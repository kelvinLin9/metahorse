{"version":3,"file":"js/735.6326fafe.js","mappings":"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","sources":["webpack://hw1/./src/stores/cartStore.js","webpack://hw1/./src/stores/couponStore.js","webpack://hw1/./src/stores/goStore.js","webpack://hw1/./src/stores/statusStore.js","webpack://hw1/./src/components/UserCheckoutBar.vue","webpack://hw1/./src/components/UserCheckoutBar.vue?3d9a","webpack://hw1/./src/views/UserCart.vue","webpack://hw1/./src/views/UserCart.vue?698a"],"sourcesContent":["import axios from 'axios'\r\nimport router from '../router'\r\nimport { defineStore } from 'pinia'\r\nimport statusStore from './statusStore'\r\n\r\nconst status = statusStore()\r\n\r\nexport default defineStore('cartStore', {\r\n  state: () => ({\r\n    cart: {},\r\n    cartNum: 0,\r\n    cartBoxState: false,\r\n    form: {\r\n      user: {\r\n        name: '',\r\n        email: '',\r\n        tel: '',\r\n        address: ''\r\n      },\r\n      message: ''\r\n    }\r\n  }),\r\n  actions: {\r\n    getCart () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      status.isLoading = true\r\n      axios.get(url)\r\n        .then((res) => {\r\n          this.cartNum = res.data.data.carts.length\r\n          this.cart = res.data.data\r\n          status.isLoading = false\r\n        }).catch(() => {\r\n          status.isLoading = false\r\n          status.pushManager(false, '更新', '發生錯誤，請重新整理頁面')\r\n        })\r\n    },\r\n    updateCart (item) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`\r\n      status.isLoading = true\r\n      status.cartLoadingItem = item.id\r\n      const cart = {\r\n        product_id: item.product_id,\r\n        qty: item.qty\r\n      }\r\n      axios.put(url, { data: cart })\r\n        .then(() => {\r\n          status.cartLoadingItem = ''\r\n          this.getCart()\r\n        }).catch(() => {\r\n          status.isLoading = false\r\n          status.pushManager(false, '更新', '發生錯誤，請重新操作')\r\n        })\r\n    },\r\n    removeCartItem (id) {\r\n      status.cartLoadingItem = id\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`\r\n      status.isLoading = true\r\n      axios.delete(url)\r\n        .then((res) => {\r\n          status.pushManager(res, '刪除', '此項目已移除購物車')\r\n          status.cartLoadingItem = ''\r\n          this.getCart()\r\n          status.isLoading = false\r\n        }).catch(() => {\r\n          status.isLoading = false\r\n          status.pushManager(false, '刪除', '發生錯誤，請重新操作')\r\n        })\r\n    },\r\n    addCart (id, qty = 1) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      status.cartLoadingItem = id\r\n      const cart = {\r\n        product_id: id,\r\n        qty\r\n      }\r\n      axios.post(url, { data: cart })\r\n        .then((res) => {\r\n          status.cartLoadingItem = ''\r\n          this.getCart()\r\n          status.pushManager(res, '更新', '已加入購物車')\r\n        }).catch(() => {\r\n          status.isLoading = false\r\n          status.pushManager(false, '更新', '發生錯誤，請重新整理頁面')\r\n        })\r\n    },\r\n    cartBoxToggle () {\r\n      this.cartBoxState = !this.cartBoxState\r\n    },\r\n    gotoPay () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`\r\n      const order = this.form\r\n      axios.post(url, { data: order })\r\n        .then((res) => {\r\n          router.push(`/checkoutPay/${res.data.orderId}`)\r\n          this.form = {\r\n            user: {\r\n              name: '',\r\n              email: '',\r\n              tel: '',\r\n              address: ''\r\n            },\r\n            message: ''\r\n          }\r\n          this.getCart()\r\n        }).catch(() => {\r\n          status.isLoading = false\r\n          status.pushManager(false, '傳送', '發生錯誤，請重新填寫資料並送出')\r\n        })\r\n    }\r\n  }\r\n})\r\n","import axios from 'axios'\r\nimport { defineStore } from 'pinia'\r\nimport statusStore from './statusStore'\r\nimport cartStore from './cartStore'\r\n\r\nconst status = statusStore()\r\nconst cart = cartStore()\r\n\r\nexport default defineStore('couponStore', {\r\n  state: () => ({\r\n    coupon_code: '',\r\n    coupons: [\r\n      {\r\n        id: 1,\r\n        img: 'https://storage.googleapis.com/vue-course-api.appspot.com/kelvinlin9/1666490147962.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=fUWCF92T7UOQmxyyD5gz2nw%2Bjr%2BHgwls%2BA%2FaAgyZRvtqzsfO3z5I%2BwWGezKKqZFk6ABtySVop1u4cly6WGzGFYxes1eAP%2B7IW%2FUzml%2FeA3LiwzK1ZNfmTUVIs0lVE1s2SKJwjYR3hwaHTd3b5y5EPUYlglXpyOwwMcVNUnjSkNz0LwpAc0HyO9D5dCKV8p54sm3D5oOex5TpqiZOkvMH2X1%2B56ZxKrCJ8N2Z3En08bKMlLgurqSHCt05WVf%2Bws8KVyHD8OhILwH%2FDEBZqHU11FcGg2BRFaMJkpoAFtI1%2FLLvCL1PTBTFVWF85dcXFXXWiV3UdCUEGuE4CU4PeRPWzQ%3D%3D',\r\n        discount: '5折',\r\n        code: 'diamond'\r\n      },\r\n      {\r\n        id: 2,\r\n        img: 'https://storage.googleapis.com/vue-course-api.appspot.com/kelvinlin9/1666490106008.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=gXFy4XDqe5X0ZSVTA2mql1Tla2b7rAZ9BRGAccBurkQu7I21PPNlft7KNoYZlzVXJG9jJMKtpce7x1SU%2FvF%2BuyrNCoagM8sCB7TDUr6flq4a4ogf54dv7PS%2FzkcZKw198l2WDa7El4VFCpp9RwBiDafo9bwwWv%2BZSeRShd4nOPEd2xU11sM%2FqbGt2BK5V3Es5%2FxH1mh%2Bw2Vaq7%2FEABrGb3VjytLlboUoercBRvaI4stnQIGv8d6Gog2w87uqTGUDsgNj5f0zy03W5g9Zle3PFWwdhYP7C6wC1wgYhbPXIYLGAEAr0XOQkP34bff%2B%2FwZBpTp7j8aNT2Q8OCRDcSZcyg%3D%3D',\r\n        discount: '7折',\r\n        code: 'gold'\r\n      },\r\n      {\r\n        id: 3,\r\n        img: 'https://storage.googleapis.com/vue-course-api.appspot.com/kelvinlin9/1666490131972.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=CL0yLgoV3%2BnVZewXtdQUGNOVOVpjc5UF1bSnI%2FcoZEdWk9zgUoSPOF3KSNkKz5Y8k6aMHVg6l3RidhTwITzToc%2F86OIEcTTWRdbPMMNA9LKHkHK1MLb7OFoTYI9EBxx5RoVq0r4TXGPnMQ%2BMcjZLQSRMbWnpA13PcFQUkYxsmQeDtpLrJXu9Z%2FyouHQr7NCvhGyO2Tw7qzLLBjQAQEOBXjvl9ZZJHoSNjv3vmTc%2FIy8hIv%2FyzFxHhRqA5D2Y38yhtvVg31TbqisX1ezyUOnAzARDj%2FCDmAgDPSVkIGMNgtutvPQHDY3WJ6ooC2yINJ0fuk%2FHTSEUg7i%2BMcXlbbhyaQ%3D%3D',\r\n        discount: '8折',\r\n        code: 'silver'\r\n      }\r\n    ],\r\n    coupon: {},\r\n    draw: false\r\n  }),\r\n  actions: {\r\n    addCouponCode (i) {\r\n      this.coupon_code = i\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`\r\n      const coupon = {\r\n        code: `${i}`\r\n      }\r\n      status.isLoading = true\r\n      axios.post(url, { data: coupon })\r\n        .then((res) => {\r\n          if (res.data.success === true) {\r\n            status.pushManager(res, '加入優惠券', res.data.message)\r\n            cart.getCart()\r\n            status.isLoading = false\r\n            this.coupon_code = ''\r\n          } else {\r\n            status.pushManager(false, '加入優惠券', res.data.message)\r\n            status.isLoading = false\r\n            this.coupon_code = ''\r\n          }\r\n        }).catch(() => {\r\n          status.isLoading = false\r\n          status.pushManager(false, '更新', '發生錯誤，請重新操作')\r\n        })\r\n    },\r\n    luckyDraw (min, max) {\r\n      const num = Math.floor(Math.random() * (max - min + 1)) + min\r\n      this.coupon = this.coupons[num]\r\n      this.draw = true\r\n    }\r\n  }\r\n})\r\n","import router from '../router'\r\nimport { defineStore } from 'pinia'\r\nimport cartStore from './cartStore'\r\n\r\nconst cart = cartStore()\r\n\r\nexport default defineStore('goStore', {\r\n  actions: {\r\n    goCart () {\r\n      router.push('/cart')\r\n      cart.cartBoxState = false\r\n    },\r\n    goProducts () {\r\n      router.push('/products')\r\n      cart.cartBoxState = false\r\n    },\r\n    goProduct (id) {\r\n      router.push(`/product/${id}`)\r\n    },\r\n    goCheckout () {\r\n      router.push('/checkout')\r\n    }\r\n  }\r\n})\r\n","import { defineStore } from 'pinia'\r\n\r\nexport default defineStore('statusStore', {\r\n  state: () => ({\r\n    isLoading: [],\r\n    cartLoadingItem: '',\r\n    messages: []\r\n  }),\r\n  actions: {\r\n    pushManager (res = true, title = '更新', content = '') {\r\n      if (res) {\r\n        const obj = {\r\n          style: 'success',\r\n          title: `${title}成功`,\r\n          content: `${content}`\r\n        }\r\n        this.messages.push(obj)\r\n      } else {\r\n        const obj = {\r\n          style: 'danger',\r\n          title: `${title}失敗`,\r\n          content: `${content}`\r\n        }\r\n        this.messages.push(obj)\r\n      }\r\n    }\r\n  }\r\n})\r\n","<template>\r\n  <div class=\"container py-4 checkout-bar w-75 no-print\">\r\n    <div class=\"row fs-5 fw-bold justify-content-center\">\r\n      <div class=\"col-3 col-lg-2 d-flex flex-column px-2 py-3 align-items-center rounded-pill\"\r\n          :class=\"{'bg-primary' : $route.name === 'cart'}\">\r\n        <FontAwesomeIcon icon=\"fa-solid fa-1\"/>\r\n        購物<br class=\"d-block d-sm-none\">車\r\n      </div>\r\n      <div class=\"col-3 col-lg-2 d-flex flex-column mx-2 py-3 align-items-center rounded-pill\"\r\n          :class=\"{'bg-primary' : $route.name === 'checkout'}\">\r\n        <FontAwesomeIcon icon=\"fa-solid fa-2\"/>\r\n        填寫<br class=\"d-block d-sm-none\">訂單\r\n      </div>\r\n      <div class=\"col-3 col-lg-2 d-flex flex-column mx-2 py-3 align-items-center rounded-pill\"\r\n          :class=\"{'bg-primary' : $route.name === 'checkoutPay'}\">\r\n        <FontAwesomeIcon icon=\"fa-solid fa-3\"/>\r\n        確認<br class=\"d-block d-sm-none\">付款\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n","import { render } from \"./UserCheckoutBar.vue?vue&type=template&id=cbd7c2ca\"\nconst script = {}\n\nimport exportComponent from \"C:\\\\Users\\\\kelvi\\\\Desktop\\\\github\\\\metahorse\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <UserCheckoutBar/>\r\n  <div class=\"container py-3\"\r\n      v-if=\"cart.total === 0\">\r\n    <div class=\"text-center pt-4\">\r\n      <h3 class=\"fw-bold\">購物車還沒有任何商品，趕快挑選產品加入購物車 !</h3>\r\n      <button type=\"button\" class=\"btn btn-primary btn-hover rounded-0 fw-bold btn-lg mt-5\"\r\n              @click=\"goProducts\">\r\n        商品列表\r\n      </button>\r\n    </div>\r\n  </div>\r\n  <div class=\"container py-3\"\r\n      v-if=\"cart.total !== 0\">\r\n    <div class=\"d-flex justify-content-center\">\r\n      <h1 class=\"fs-2 text-center fw-bold\">購物清單</h1>\r\n    </div>\r\n    <div class=\"row mt-2 justify-content-center\">\r\n      <!-- 購物車列表 -->\r\n      <div class=\"col-lg-9 col-xl-6\">\r\n        <table class=\"table align-middle table-hover\">\r\n          <thead class=\"table-primary\">\r\n            <tr>\r\n              <th>刪除</th>\r\n              <th class=\"d-none d-sm-block\">圖片</th>\r\n              <th>品名</th>\r\n              <th class=\"d-none d-md-block\">單價</th>\r\n              <th style=\"width:70px\">數量</th>\r\n              <th>總價</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <template v-if=\"cart.carts\">\r\n              <tr v-for=\"item in cart.carts\" :key=\"item.id\">\r\n                <td>\r\n                  <button type=\"button\" class=\"btn text-primary fs-3\"\r\n                          :disabled=\"cartLoadingItem === item.id\"\r\n                          @click=\"removeCartItem(item.id)\">\r\n                    <FontAwesomeIcon icon=\"fa-solid fa-trash-can\"/>\r\n                  </button>\r\n                </td>\r\n                <td class=\"d-none d-sm-table-cell\">\r\n                  <img :src=\"item.product.imageUrl\" alt=\"商品照片\" width=\"80\">\r\n                </td>\r\n                <td class=\"fs-title\">\r\n                  {{ item.product.title }}<br>\r\n                </td>\r\n                <td class=\"d-none d-md-table-cell\">\r\n                  <small class=\"fs-7\">\r\n                    NT$\r\n                  </small>\r\n                    {{ item.product.price }}\r\n                </td>\r\n                <td>\r\n                  <div class=\"input-group input-group-sm\">\r\n                    <input type=\"number\" class=\"form-control fs-7\"\r\n                          min=\"1\"\r\n                          :disabled=\"item.id === cartLoadingItem\"\r\n                          @change=\"updateCart(item)\"\r\n                          v-model.number=\"item.qty\"\r\n                          @input=\"item.qty = Number($event.target.value.replace(/^(0+)|[^\\d]+/g, '')) || 1\">\r\n                  </div>\r\n                </td>\r\n                <td class=\"fs-6\">\r\n                  <div v-if=\"item.final_total === item.total\">\r\n                    <small class=\"fs-7\">\r\n                      NT$\r\n                    </small>\r\n                    {{ $filters.currency(item.final_total) }}\r\n                  </div>\r\n                  <div v-if=\"item.final_total !== item.total\">\r\n                    <small class=\"fs-7\">\r\n                      NT$\r\n                    </small>\r\n                    {{ $filters.currency(item.final_total) }}\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            </template>\r\n          </tbody>\r\n          <tfoot>\r\n          <tr v-if=\"cart.final_total === cart.total\">\r\n            <td colspan=\"7\" class=\"text-end fs-4\">\r\n              總計：\r\n              <small class=\"fs-6\">\r\n                NT$\r\n              </small>\r\n              {{ $filters.currency(cart.total) }}\r\n            </td>\r\n          </tr>\r\n          <tr v-if=\"cart.final_total !== cart.total\">\r\n            <td colspan=\"7\" class=\"text-end fs-5\">\r\n              <del>\r\n                總計：NT$\r\n                {{ $filters.currency(cart.total) }}\r\n              </del>\r\n            </td>\r\n          </tr>\r\n          <tr v-if=\"cart.final_total !== cart.total\">\r\n            <td colspan=\"7\" class=\"text-end text-secondary fw-bold fs-3\">\r\n              折扣價：\r\n              <small class=\"fs-6\">\r\n                NT$\r\n              </small>\r\n              {{ $filters.currency(cart.final_total) }}\r\n            </td>\r\n          </tr>\r\n          </tfoot>\r\n        </table>\r\n        <div class=\"input-group mb-3\"\r\n              v-if=\"cart.total !== 0\">\r\n          <input type=\"text\" class=\"form-control\" placeholder=\"請輸入優惠碼\" aria-label=\"請輸入優惠碼\" aria-describedby=\"button-addon\"\r\n                  v-model=\"coupon_code\">\r\n          <button class=\"btn btn-outline-secondary fw-bold btn-lg\" type=\"button\" id=\"button-addon\"\r\n                  @click=\"addCouponCode(coupon_code)\">\r\n            套用優惠碼\r\n          </button>\r\n        </div>\r\n        <div class=\"text-end\"\r\n            v-if=\"(cart.total < 30000 && cart.final_total === cart.total)\">\r\n          還差\r\n          <span class=\"fs-3\">{{ `${30000 - cart.total}` }}</span>\r\n          元即可參加抽獎\r\n        </div>\r\n        <div class=\"text-end\"\r\n            v-if=\"(cart.total < 30000 && cart.final_total !== cart.total)\">\r\n          還差\r\n          <span class=\"fs-3\">{{ `${30000 - cart.final_total}` }}</span>\r\n          元即可參加抽獎\r\n        </div>\r\n        <div class=\"d-flex justify-content-between mt-3\"\r\n            v-if=\"cart.total !== 0\">\r\n          <button type=\"button\" class=\"btn btn-outline-primary btn-hover rounded-0 fw-bold btn-lg text-dark\"\r\n                  @click=\"goProducts\">\r\n            <i class=\"bi bi-caret-left-fill\"></i>商品列表\r\n          </button>\r\n          <button type=\"button\" class=\"btn btn-primary btn-hover rounded-0 fw-bold btn-lg \"\r\n                  @click=\"goCheckout\">\r\n            填寫資料<i class=\"bi bi-caret-right-fill\"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport UserCheckoutBar from '@/components/UserCheckoutBar.vue'\r\nimport { mapState, mapActions, mapWritableState } from 'pinia'\r\nimport statusStore from '@/stores/statusStore'\r\nimport cartStore from '@/stores/cartStore'\r\nimport goStore from '@/stores/goStore'\r\nimport couponStore from '@/stores/couponStore'\r\n\r\nexport default {\r\n  components: {\r\n    UserCheckoutBar\r\n  },\r\n  computed: {\r\n    ...mapState(statusStore, ['cartLoadingItem']),\r\n    ...mapState(cartStore, ['cart']),\r\n    ...mapWritableState(couponStore, ['coupon_code'])\r\n  },\r\n  methods: {\r\n    ...mapActions(cartStore, ['getCart', 'updateCart', 'removeCartItem']),\r\n    ...mapActions(goStore, ['goProducts', 'goCheckout']),\r\n    ...mapActions(couponStore, ['addCouponCode'])\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.fs-title {\r\n  font-size: 16px;\r\n  @media (max-width: 576px) {\r\n  font-size: 14px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./UserCart.vue?vue&type=template&id=5c24ac79&scoped=true\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport \"./UserCart.vue?vue&type=style&index=0&id=5c24ac79&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\kelvi\\\\Desktop\\\\github\\\\metahorse\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5c24ac79\"]])\n\nexport default __exports__"],"names":["status","statusStore","defineStore","state","cart","cartNum","cartBoxState","form","user","name","email","tel","address","message","actions","getCart","url","isLoading","axios","then","res","this","data","carts","length","catch","pushManager","updateCart","item","id","cartLoadingItem","product_id","qty","removeCartItem","addCart","cartBoxToggle","gotoPay","order","router","orderId","cartStore","coupon_code","coupons","img","discount","code","coupon","draw","addCouponCode","i","success","luckyDraw","min","max","num","Math","floor","random","goCart","goProducts","goProduct","goCheckout","messages","title","content","obj","style","push","class","_createElementVNode","_createElementBlock","_ctx","_createVNode","_component_FontAwesomeIcon","icon","_hoisted_4","_hoisted_7","_hoisted_10","script","__exports__","render","colspan","_hoisted_44","_hoisted_48","_component_UserCheckoutBar","total","_hoisted_3","type","onClick","_hoisted_5","_hoisted_9","_Fragment","key","_renderList","disabled","src","product","imageUrl","alt","width","_hoisted_14","_hoisted_16","_toDisplayString","price","onChange","$event","onInput","Number","target","value","replace","final_total","_hoisted_20","_hoisted_21","currency","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_27","_hoisted_28","_hoisted_30","_hoisted_33","placeholder","components","UserCheckoutBar","computed","mapState","mapWritableState","couponStore","methods","mapActions","goStore"],"sourceRoot":""}