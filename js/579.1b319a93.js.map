{"version":3,"file":"js/579.1b319a93.js","mappings":"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","sources":["webpack://hw1/./src/stores/cartStore.js","webpack://hw1/./src/stores/favoriteStore.js","webpack://hw1/./src/stores/goStore.js","webpack://hw1/./src/stores/productStore.js","webpack://hw1/./src/stores/statusStore.js","webpack://hw1/./src/stores/windowStore.js","webpack://hw1/./src/views/UserFavorite.vue","webpack://hw1/./src/views/UserFavorite.vue?f10e"],"sourcesContent":["import axios from 'axios'\r\nimport router from '../router'\r\nimport { defineStore } from 'pinia'\r\nimport statusStore from './statusStore'\r\n\r\nconst status = statusStore()\r\n\r\nexport default defineStore('cartStore', {\r\n  state: () => ({\r\n    cart: {},\r\n    cartNum: 0,\r\n    cartBoxState: false,\r\n    form: {\r\n      user: {\r\n        name: '',\r\n        email: '',\r\n        tel: '',\r\n        address: ''\r\n      },\r\n      message: ''\r\n    }\r\n  }),\r\n  actions: {\r\n    getCart () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      status.isLoading = true\r\n      axios.get(url)\r\n        .then((res) => {\r\n          this.cartNum = res.data.data.carts.length\r\n          this.cart = res.data.data\r\n          status.isLoading = false\r\n        }).catch(() => {\r\n          status.isLoading = false\r\n          status.pushManager(false, '更新', '發生錯誤，請重新整理頁面')\r\n        })\r\n    },\r\n    updateCart (item) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`\r\n      status.isLoading = true\r\n      status.cartLoadingItem = item.id\r\n      const cart = {\r\n        product_id: item.product_id,\r\n        qty: item.qty\r\n      }\r\n      axios.put(url, { data: cart })\r\n        .then(() => {\r\n          status.cartLoadingItem = ''\r\n          this.getCart()\r\n        }).catch(() => {\r\n          status.isLoading = false\r\n          status.pushManager(false, '更新', '發生錯誤，請重新操作')\r\n        })\r\n    },\r\n    removeCartItem (id) {\r\n      status.cartLoadingItem = id\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`\r\n      status.isLoading = true\r\n      axios.delete(url)\r\n        .then((res) => {\r\n          status.pushManager(res, '刪除', '此項目已移除購物車')\r\n          status.cartLoadingItem = ''\r\n          this.getCart()\r\n          status.isLoading = false\r\n        }).catch(() => {\r\n          status.isLoading = false\r\n          status.pushManager(false, '刪除', '發生錯誤，請重新操作')\r\n        })\r\n    },\r\n    addCart (id, qty = 1) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      status.cartLoadingItem = id\r\n      const cart = {\r\n        product_id: id,\r\n        qty\r\n      }\r\n      axios.post(url, { data: cart })\r\n        .then((res) => {\r\n          status.cartLoadingItem = ''\r\n          this.getCart()\r\n          status.pushManager(res, '更新', '已加入購物車')\r\n        }).catch(() => {\r\n          status.isLoading = false\r\n          status.pushManager(false, '更新', '發生錯誤，請重新整理頁面')\r\n        })\r\n    },\r\n    cartBoxToggle () {\r\n      this.cartBoxState = !this.cartBoxState\r\n    },\r\n    gotoPay () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`\r\n      const order = this.form\r\n      axios.post(url, { data: order })\r\n        .then((res) => {\r\n          router.push(`/checkoutPay/${res.data.orderId}`)\r\n          this.form = {\r\n            user: {\r\n              name: '',\r\n              email: '',\r\n              tel: '',\r\n              address: ''\r\n            },\r\n            message: ''\r\n          }\r\n          this.getCart()\r\n        }).catch(() => {\r\n          status.isLoading = false\r\n          status.pushManager(false, '傳送', '發生錯誤，請重新填寫資料並送出')\r\n        })\r\n    }\r\n  }\r\n})\r\n","import { defineStore } from 'pinia'\r\n\r\nexport default defineStore('favoriteStore', {\r\n  state: () => ({\r\n    favorite: [],\r\n    favoriteIds: [],\r\n    favoriteNum: 0,\r\n    products: []\r\n  }),\r\n  actions: {\r\n    productsBus (products) {\r\n      this.products = products\r\n      this.getFavorite()\r\n    },\r\n    getFavoriteIds () {\r\n      this.favoriteIds = JSON.parse(localStorage.getItem('favoriteIds')) || []\r\n    },\r\n    getFavorite () {\r\n      this.getFavoriteIds()\r\n      this.favorite = []\r\n      this.products.forEach((item) => {\r\n        if (this.favoriteIds.indexOf(item.id) > -1) {\r\n          this.favorite.push(item)\r\n        }\r\n      })\r\n      this.favoriteNum = this.favorite.length\r\n    },\r\n    toggleFavorite (item) {\r\n      const clickId = item\r\n      const hasFavorite = this.favoriteIds.some((item) => item === clickId)\r\n      if (!hasFavorite) {\r\n        this.favoriteIds.push(item)\r\n        localStorage.setItem('favoriteIds', JSON.stringify(this.favoriteIds))\r\n      } else {\r\n        const delItem = this.favoriteIds.find((item) => {\r\n          return item === clickId\r\n        })\r\n        this.favoriteIds.splice(this.favoriteIds.indexOf(delItem), 1)\r\n        localStorage.setItem('favoriteIds', JSON.stringify(this.favoriteIds))\r\n      }\r\n      this.getFavorite()\r\n    },\r\n    removeFavorite (item) {\r\n      this.favoriteIds.splice(this.favoriteIds.indexOf(item), 1)\r\n      localStorage.setItem('favoriteIds', JSON.stringify(this.favoriteIds))\r\n      this.getFavorite()\r\n    }\r\n  },\r\n  getters: {\r\n    favState () {\r\n      return (id) => {\r\n        return this.favoriteIds.indexOf(id) > -1 ? 'fa-solid fa-heart' : 'fa-regular fa-heart'\r\n      }\r\n    }\r\n  }\r\n})\r\n","import router from '../router'\r\nimport { defineStore } from 'pinia'\r\nimport cartStore from './cartStore'\r\n\r\nconst cart = cartStore()\r\n\r\nexport default defineStore('goStore', {\r\n  actions: {\r\n    goCart () {\r\n      router.push('/cart')\r\n      cart.cartBoxState = false\r\n    },\r\n    goProducts () {\r\n      router.push('/products')\r\n      cart.cartBoxState = false\r\n    },\r\n    goProduct (id) {\r\n      router.push(`/product/${id}`)\r\n    },\r\n    goCheckout () {\r\n      router.push('/checkout')\r\n    }\r\n  }\r\n})\r\n","import axios from 'axios'\r\nimport { defineStore } from 'pinia'\r\nimport statusStore from './statusStore'\r\nimport favoriteStore from './favoriteStore'\r\n\r\nconst status = statusStore()\r\nconst favorite = favoriteStore()\r\n\r\nexport default defineStore('productStore', {\r\n  state: () => ({\r\n    products: [],\r\n    product: {},\r\n    productsHot: [],\r\n    productsGame: [],\r\n    productsRelated: [],\r\n    temp: {},\r\n    category: 'all',\r\n    cacheSearch: ''\r\n  }),\r\n  actions: {\r\n    getProducts () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\r\n      status.isLoading = true\r\n      axios.get(url)\r\n        .then((res) => {\r\n          this.products = res.data.products\r\n          this.products.forEach((item) => {\r\n            // 自己補上後端沒有的預設值\r\n            item.qty = 1\r\n          })\r\n          // 隨便取幾個當熱門商品\r\n          this.productsHot = this.products.filter((item, index) => index > 14)\r\n          // 傳一份給我的最愛比對用\r\n          favorite.productsBus(this.products)\r\n          // 手動挑出想展示的商品(首頁用)\r\n          this.productsGame = []\r\n          this.productsGame.push(res.data.products[11])\r\n          this.productsGame.push(res.data.products[10])\r\n          this.productsGame.push(res.data.products[8])\r\n          this.productsGame.push(res.data.products[5])\r\n          this.temp = this.productsGame[0]\r\n          status.isLoading = false\r\n        }).catch(() => {\r\n          status.isLoading = false\r\n          status.pushManager(false, '更新', '發生錯誤，請重新整理頁面')\r\n        })\r\n    },\r\n    getProduct (id) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${id}`\r\n      status.isLoading = true\r\n      axios.get(api)\r\n        .then((res) => {\r\n          status.isLoading = false\r\n          if (res.data.success) {\r\n            this.product = res.data.product\r\n            // 自己補上後端沒有的預設值\r\n            this.product.qty = 1\r\n            this.productsRelated = [...this.products]\r\n            this.productsRelated.splice(20 - this.product.num, 1)\r\n            if (this.product.category === '遊戲道具') {\r\n              this.productsRelated = this.productsRelated.filter((item, index) => {\r\n                return item.category === '遊戲道具'\r\n              })\r\n            } else {\r\n              this.productsRelated = this.productsRelated.filter((item, index) => {\r\n                return item.category !== '遊戲道具'\r\n              })\r\n            }\r\n          }\r\n        }).catch(() => {\r\n          status.isLoading = false\r\n          status.pushManager(false, '更新', '發生錯誤，請重新整理頁面')\r\n        })\r\n    },\r\n    setCategory (i) {\r\n      this.category = i\r\n    }\r\n  },\r\n  getters: {\r\n    filterProducts () {\r\n      let filterProducts\r\n      if (this.cacheSearch === '') {\r\n        switch (this.category) {\r\n          case 'all':\r\n            filterProducts = this.products.filter((item) => {\r\n              return item\r\n            })\r\n            break\r\n          case 'S':\r\n            filterProducts = this.products.filter((item) => {\r\n              return item.category === 'S'\r\n            })\r\n            break\r\n          case 'A':\r\n            filterProducts = this.products.filter((item) => {\r\n              return item.category === 'A'\r\n            })\r\n            break\r\n          case 'B':\r\n            filterProducts = this.products.filter((item) => {\r\n              return item.category === 'B'\r\n            })\r\n            break\r\n          case 'C':\r\n            filterProducts = this.products.filter((item) => {\r\n              return item.category === 'C'\r\n            })\r\n            break\r\n          case '馬鞍':\r\n            filterProducts = this.products.filter((item) => {\r\n              return item.description === '馬鞍'\r\n            })\r\n            break\r\n          case '馬蹄鐵':\r\n            filterProducts = this.products.filter((item) => {\r\n              return item.description === '馬蹄鐵'\r\n            })\r\n            break\r\n          case '馬飼料':\r\n            filterProducts = this.products.filter((item) => {\r\n              return item.description === '馬飼料'\r\n            })\r\n            break\r\n        }\r\n        return filterProducts\r\n      } else {\r\n        return this.products.filter((item) => {\r\n          return item.title.match(this.cacheSearch)\r\n        })\r\n      }\r\n    }\r\n  }\r\n})\r\n","import { defineStore } from 'pinia'\r\n\r\nexport default defineStore('statusStore', {\r\n  state: () => ({\r\n    isLoading: [],\r\n    cartLoadingItem: '',\r\n    messages: []\r\n  }),\r\n  actions: {\r\n    pushManager (res = true, title = '更新', content = '') {\r\n      if (res) {\r\n        const obj = {\r\n          style: 'success',\r\n          title: `${title}成功`,\r\n          content: `${content}`\r\n        }\r\n        this.messages.push(obj)\r\n      } else {\r\n        const obj = {\r\n          style: 'danger',\r\n          title: `${title}失敗`,\r\n          content: `${content}`\r\n        }\r\n        this.messages.push(obj)\r\n      }\r\n    }\r\n  }\r\n})\r\n","import { defineStore } from 'pinia'\r\n\r\nexport default defineStore('windowStore', {\r\n  state: () => ({\r\n    goTopIcon: false,\r\n    windowWidth: 0\r\n  }),\r\n  actions: {\r\n    scroll () {\r\n      window.onscroll = e => {\r\n        if (e.target.scrollingElement.scrollTop > 350) {\r\n          this.goTopIcon = true\r\n        } else {\r\n          this.goTopIcon = false\r\n        }\r\n      }\r\n    },\r\n    getWindowWidth () {\r\n      this.windowWidth = window.innerWidth\r\n      window.addEventListener('resize', () => {\r\n        this.windowWidth = window.innerWidth\r\n      })\r\n    }\r\n  }\r\n})\r\n","<template>\r\n  <div class=\"favBanner\">\r\n    <div class=\"bg-dark bg-opacity-75 w-100 h-100 d-flex align-items-center\">\r\n      <h1 class=\"w-100 d-flex align-items-center justify-content-center\">\r\n        <span class=\"me-2 fs-1 fw-bolder text-white\">我的最愛</span>\r\n        <span class=\"fs-5 text-primary align-self-end\">/ My Favorite</span>\r\n      </h1>\r\n    </div>\r\n  </div>\r\n  <div class=\"pb-5\">\r\n    <div class=\"container-fluid pt-5\"\r\n        v-if=\"favorite.length === 0\">\r\n      <div class=\"d-flex flex-column justify-content-center align-items-center\">\r\n        <h1 class=\"fs-2 text-center fw-bold mb-5\">目前沒有收藏任何商品</h1>\r\n        <RouterLink to=\"products\" type=\"button\" class=\"btn btn-outline-primary text-dark fw-bold fs-5\">回產品列表</RouterLink>\r\n      </div>\r\n    </div>\r\n    <div class=\"container pt-4\">\r\n      <!-- 桌面版 -->\r\n      <div class=\"row g-4 justify-content-center \"\r\n            v-if=\"favorite.length !== 0 && windowWidth > 768\">\r\n        <div class=\"col-md-6 col-lg-4 col-10\"\r\n              v-for=\"item in favorite\" :key=\"item.id\">\r\n          <div class=\"card rounded-3 scale\"\r\n              @click=\"goProduct(item.id)\"\r\n          >\r\n            <div class=\"card-img overflow-hidden position-relative\">\r\n              <button class=\"btn bg-dark fs-4 position-absolute text-white w-100 h-100 bg-opacity-75\" type=\"button\">\r\n                <FontAwesomeIcon icon=\"fa-solid fa-magnifying-glass\" /> 詳細資訊\r\n              </button>\r\n              <img class=\"rounded-3 img-fit\"\r\n                  :src=\"item.imageUrl\" alt=\"商品照片\"\r\n              >\r\n            </div>\r\n            <div class=\"card-body d-flex flex-column justify-content-center text-center fw-bold\">\r\n              <span class=\"fs-4\">\r\n                {{ item.title }}\r\n                <span class=\"fs-6 text-muted\">\r\n                  （{{ item.category }}）\r\n                </span>\r\n              </span>\r\n              <span class=\"fs-5\">\r\n                NT ${{ item.price }}\r\n                <span class=\"text-muted text-decoration-line-through fs-6 ms-1\">\r\n                  ${{ item.origin_price }}\r\n                </span>\r\n              </span>\r\n              <div class=\"px-2 py-2 d-flex justify-content-between\">\r\n                <button type=\"button\"\r\n                        class=\"btn btn-outline-secondary text-dark fw-bold fs-6 px-3\"\r\n                        @click.stop=\"removeFavorite(item.id)\">\r\n                  &emsp;&ensp;刪除&ensp;&emsp;\r\n                </button>\r\n                <button type=\"button\"\r\n                        class=\"btn btn-outline-primary text-dark fw-bold fs-6 px-3\"\r\n                        :disabled=\"cartLoadingItem === item.id\"\r\n                        @click.stop=\"addCart(item.id)\">\r\n                  <div v-if=\"cartLoadingItem === item.id\"\r\n                        class=\"spinner-grow text-danger spinner-grow-sm\" role=\"status\">\r\n                    <span class=\"visually-hidden\">Loading...</span>\r\n                  </div>\r\n                  加到購物車\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- 手機版 -->\r\n      <div class=\"table-responsive\"\r\n        v-if=\"favorite.length !== 0 && windowWidth <= 768\">\r\n        <table class=\"table table-sm align-middle\">\r\n          <thead>\r\n            <tr class=\"text-center table-primary\">\r\n              <th>圖片</th>\r\n              <th>品名</th>\r\n              <th>單價</th>\r\n              <th></th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody class=\"text-center\">\r\n            <tr v-for=\"item in favorite\" :key=\"item.id\">\r\n              <td style=\"width:70px\" class=\"card-img overflow-hidden position-relative scale\">\r\n                <img class=\"rounded-3 img-fit\"\r\n                    :src=\"item.imageUrl\" alt=\"商品照片\"\r\n                    @click=\"goProduct(item.id)\"\r\n                    data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"詳細資訊\"\r\n                >\r\n              </td>\r\n              <td class=\"fs-7\">\r\n                {{ item.title }}\r\n                <br>\r\n                <span class=\"fs-7 text-muted\">\r\n                  （{{ item.category }}）\r\n                </span>\r\n              </td>\r\n              <td class=\"fs-8\">\r\n                NT$ {{ item.price }}\r\n              </td>\r\n              <td>\r\n                <button class=\"btn text-danger fs-4\"\r\n                        type=\"button\"\r\n                        @click=\"addCart(item.id)\">\r\n                  <font-awesome-icon icon=\"fa-solid fa-cart-plus\" />\r\n                </button>\r\n              </td>\r\n              <td>\r\n                <button class=\"btn text-primary fs-4\"\r\n                        type=\"button\"\r\n                        @click=\"removeFavorite(item.id)\">\r\n                  <FontAwesomeIcon icon=\"fa-solid fa-trash-can\" />\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from 'pinia'\r\nimport productsStore from '@/stores/productStore'\r\nimport cartStore from '@/stores/cartStore'\r\nimport statusStore from '@/stores/statusStore'\r\nimport favoriteStore from '@/stores/favoriteStore'\r\nimport goStore from '@/stores/goStore'\r\nimport windowStore from '@/stores/windowStore'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      window: 0\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(favoriteStore, ['favorite', 'favoriteIds']),\r\n    ...mapState(productsStore, ['products']),\r\n    ...mapState(statusStore, ['cartLoadingItem']),\r\n    ...mapState(windowStore, ['windowWidth'])\r\n  },\r\n  methods: {\r\n    ...mapActions(favoriteStore, ['getFavorite', 'getFavoriteIds', 'removeFavorite']),\r\n    ...mapActions(productsStore, ['getProducts']),\r\n    ...mapActions(cartStore, ['getCart', 'addCart']),\r\n    ...mapActions(goStore, ['goProduct']),\r\n    ...mapActions(windowStore, ['getWindowWidth'])\r\n  },\r\n  mounted () {\r\n    this.getWindowWidth()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.favBanner {\r\n  height: 250px;\r\n  background-image: url(https://storage.googleapis.com/vue-course-api.appspot.com/kelvinlin9/1666490697166.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=PN%2FJQamCh0W8oppAPBZXRjSdxNLWO5CNU5kZE%2FAooIU3%2F4cmsb6wwHVGZwLLkNPG%2F5Fw9JKoss5VZRcK7IUUoS0ecWXuzGS77oQeRdrqYfRSNLaUPpvT%2BRHDeFoflhD7lbCP2peFFKf7BqsBN5VgQUPIJQ4zDU29VZe%2FszIeARlLpgZGVXkG8SlovAqQD3cXHdS4s6WvWFeyae5BGi6MBsBTeLp%2FbDmDwqybR8Aa0eJCN7UE6gN0ViSDHhNXpDDQKXcdNDa3THZYlt%2BWSyBD%2BrCLSkW%2F6C9Ufi7K6Mr%2F%2FdJVinszNFTnaIeObQSV9VLdREwLA5nUvbvvGIO9mMSL0g%3D%3D);\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  background-position:center ;\r\n  @media (max-width: 600px) {\r\n    height: 150px;\r\n  }\r\n  .bg-dark{\r\n  opacity: 0.8;\r\n  }\r\n}\r\n.img-fit{\r\n  width: 100%;\r\n  object-fit: cover;\r\n  transition: 0.5s;\r\n}\r\n.scale{\r\n  cursor:pointer;\r\n  &:hover{\r\n    .btn{\r\n      opacity: 1;\r\n    }\r\n    img{\r\n      transform: scale(1.15);\r\n    }\r\n  }\r\n}\r\n.bg-dark{\r\n  z-index: 1;\r\n  opacity: 0;\r\n  transition: 0.5s;\r\n}\r\n</style>\r\n","import { render } from \"./UserFavorite.vue?vue&type=template&id=69ef8f1e&scoped=true\"\nimport script from \"./UserFavorite.vue?vue&type=script&lang=js\"\nexport * from \"./UserFavorite.vue?vue&type=script&lang=js\"\n\nimport \"./UserFavorite.vue?vue&type=style&index=0&id=69ef8f1e&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\kelvi\\\\Desktop\\\\github\\\\metahorse\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-69ef8f1e\"]])\n\nexport default __exports__"],"names":["status","statusStore","defineStore","state","cart","cartNum","cartBoxState","form","user","name","email","tel","address","message","actions","getCart","url","isLoading","axios","then","res","this","data","carts","length","catch","pushManager","updateCart","item","id","cartLoadingItem","product_id","qty","removeCartItem","addCart","cartBoxToggle","gotoPay","order","router","orderId","favorite","favoriteIds","favoriteNum","products","productsBus","getFavorite","getFavoriteIds","JSON","parse","localStorage","getItem","forEach","indexOf","push","toggleFavorite","clickId","hasFavorite","some","delItem","find","splice","setItem","stringify","removeFavorite","getters","favState","cartStore","goCart","goProducts","goProduct","goCheckout","favoriteStore","product","productsHot","productsGame","productsRelated","temp","category","cacheSearch","getProducts","filter","index","getProduct","api","success","num","setCategory","i","filterProducts","description","title","match","messages","content","obj","style","goTopIcon","windowWidth","scroll","window","onscroll","e","target","scrollingElement","scrollTop","getWindowWidth","innerWidth","addEventListener","class","_createElementVNode","type","role","_hoisted_23","_hoisted_1","_ctx","_createElementBlock","_hoisted_5","_createVNode","_component_RouterLink","to","_Fragment","_renderList","key","onClick","_component_FontAwesomeIcon","icon","src","imageUrl","alt","_toDisplayString","price","origin_price","_hoisted_20","disabled","_hoisted_24","_hoisted_28","_hoisted_33","_component_font_awesome_icon","computed","mapState","productsStore","windowStore","methods","mapActions","goStore","mounted","__exports__","render"],"sourceRoot":""}