{"version":3,"file":"js/557.18b5187b.js","mappings":"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","sources":["webpack://hw1/./src/stores/copyStore.js","webpack://hw1/./src/components/UserCheckoutBar.vue","webpack://hw1/./src/components/UserCheckoutBar.vue?3d9a","webpack://hw1/./src/views/CheckoutPay.vue","webpack://hw1/./src/components/GameModal.vue","webpack://hw1/./src/components/GameModal.vue?a5de","webpack://hw1/./src/stores/orderStore.js","webpack://hw1/./src/views/CheckoutPay.vue?7e29"],"sourcesContent":["import { defineStore } from 'pinia'\r\nimport statusStore from './statusStore'\r\n\r\nconst status = statusStore()\r\nexport default defineStore('copyStore', {\r\n  actions: {\r\n    copyCode (item) {\r\n      navigator.clipboard.writeText(item)\r\n        .then(() => {\r\n          status.pushManager(true, '複製', '請到購物車頁面使用')\r\n        }).catch(() => {\r\n          status.isLoading = false\r\n          status.pushManager(false, '複製', '發生錯誤，請重新操作')\r\n        })\r\n    }\r\n  }\r\n})\r\n","<template>\r\n  <div class=\"container py-4 checkout-bar w-75 no-print\">\r\n    <div class=\"row fs-5 fw-bold justify-content-center\">\r\n      <div class=\"col-3 col-lg-2 d-flex flex-column px-2 py-3 align-items-center rounded-pill\"\r\n          :class=\"{'bg-primary' : $route.name === 'cart'}\">\r\n        <FontAwesomeIcon icon=\"fa-solid fa-1\"/>\r\n        購物<br class=\"d-block d-sm-none\">車\r\n      </div>\r\n      <div class=\"col-3 col-lg-2 d-flex flex-column mx-2 py-3 align-items-center rounded-pill\"\r\n          :class=\"{'bg-primary' : $route.name === 'checkout'}\">\r\n        <FontAwesomeIcon icon=\"fa-solid fa-2\"/>\r\n        填寫<br class=\"d-block d-sm-none\">訂單\r\n      </div>\r\n      <div class=\"col-3 col-lg-2 d-flex flex-column mx-2 py-3 align-items-center rounded-pill\"\r\n          :class=\"{'bg-primary' : $route.name === 'checkoutPay'}\">\r\n        <FontAwesomeIcon icon=\"fa-solid fa-3\"/>\r\n        確認<br class=\"d-block d-sm-none\">付款\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n","import { render } from \"./UserCheckoutBar.vue?vue&type=template&id=cbd7c2ca\"\nconst script = {}\n\nimport exportComponent from \"C:\\\\Users\\\\kelvi\\\\Desktop\\\\github\\\\metahorse\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <UserCheckoutBar/>\r\n  <div class=\"container\">\r\n    <div class=\"py-5 row justify-content-center\">\r\n      <h1 class=\"fs-2 text-center fw-bold\">購物明細</h1>\r\n      <form class=\"col-12 col-md-9 col-lg-6 table-responsive\" @submit.prevent=\"payOrder\">\r\n        <table class=\"table align-middle\">\r\n          <thead class=\"table-primary\">\r\n            <th>品名</th>\r\n            <th>數量</th>\r\n            <th class=\"text-end\">小計</th>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"item in order.products\" :key=\"item.id\">\r\n              <td>{{ item.product.title }}</td>\r\n              <td>{{ item.qty }}</td>\r\n              <td class=\"text-end\">\r\n                <small class=\"fs-7\">\r\n                  NT$\r\n                </small>\r\n                {{ $filters.currency(item.final_total) }} 元\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n          <tfoot>\r\n            <tr>\r\n              <td colspan=\"3\" class=\"text-end fs-4\">\r\n                總計 :\r\n                <small class=\"fs-6\">\r\n                  NT$\r\n                </small>\r\n                {{ $filters.currency(order.total) }} 元\r\n              </td>\r\n            </tr>\r\n          </tfoot>\r\n        </table>\r\n        <div class=\"card\">\r\n          <h5 class=\"card-header\">訂單編號 :</h5>\r\n          <div class=\"card-body\">\r\n            <p class=\"card-text\" id=\"orderId\">{{ order.id }}</p>\r\n            <a href=\"#\" class=\"btn btn-primary btn-sm\"\r\n              @click.prevent=\"copyCode(order.id)\">\r\n              複製訂單編號\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <table class=\"table\">\r\n          <tbody>\r\n          <tr>\r\n            <th width=\"100\" class=\"fw-bold\">訂購日期 :</th>\r\n            <td>{{ $filters.date(order.create_at) }}</td>\r\n          </tr>\r\n          <tr>\r\n            <th width=\"100\">Email</th>\r\n            <td>{{ order.user.email }}</td>\r\n          </tr>\r\n          <tr>\r\n            <th>姓名</th>\r\n            <td>{{ order.user.name }}</td>\r\n          </tr>\r\n          <tr>\r\n            <th>收件人電話</th>\r\n            <td>{{ order.user.tel }}</td>\r\n          </tr>\r\n          <tr>\r\n            <th>收件人地址</th>\r\n            <td>{{ order.user.address }}</td>\r\n          </tr>\r\n          <tr>\r\n            <th>付款狀態</th>\r\n            <td>\r\n              <span v-if=\"!order.is_paid\">尚未付款</span>\r\n              <span v-else class=\"text-success\">付款完成</span>\r\n            </td>\r\n          </tr>\r\n          </tbody>\r\n        </table>\r\n        <div class=\"px-3 py-2 d-flex justify-content-between\">\r\n          <button type=\"button\"\r\n                  class=\"btn btn-secondary btn-hover rounded-0 fw-bold\"\r\n                  @click=\"printWindow\">\r\n            列印此頁\r\n          </button>\r\n          <button type=\"button\"\r\n                  class=\"btn btn-primary btn-hover rounded-0 fw-bold\"\r\n                  @click=\"showAlert()\">\r\n            確認付款\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  <GameModal ref=\"GameModal\" />\r\n</template>\r\n\r\n<script>\r\nimport UserCheckoutBar from '@/components/UserCheckoutBar.vue'\r\nimport GameModal from '@/components/GameModal.vue'\r\nimport { mapState, mapActions, mapWritableState } from 'pinia'\r\nimport copyStore from '@/stores/copyStore'\r\nimport orderStore from '@/stores/orderStore'\r\n\r\nexport default {\r\n  components: {\r\n    UserCheckoutBar,\r\n    GameModal\r\n  },\r\n  computed: {\r\n    ...mapWritableState(orderStore, ['orderId']),\r\n    ...mapState(orderStore, ['order'])\r\n  },\r\n  methods: {\r\n    ...mapActions(copyStore, ['copyCode']),\r\n    ...mapActions(orderStore, ['getOrder', 'payOrder']),\r\n    showAlert () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`\r\n      this.isLoading = true\r\n      this.$http.post(api).then((res) => {\r\n        this.isLoading = false\r\n        if (res.data.success) {\r\n          if (this.order.total > 30000) {\r\n            this.$swal.fire({\r\n              title: '感謝您的支持',\r\n              text: '產品將會在3個工作天內寄出',\r\n              icon: 'success',\r\n              allowOutsideClick: false,\r\n              confirmButtonText: '開始滿額小遊戲'\r\n            }).then(() => {\r\n              this.$refs.GameModal.showModal()\r\n            })\r\n          } else {\r\n            this.$swal.fire({\r\n              title: '感謝您的支持',\r\n              text: '產品將會在3個工作天內寄出',\r\n              icon: 'success',\r\n              confirmButtonText: '繼續購物'\r\n            }).then(() => {\r\n              this.$router.push('/products')\r\n            })\r\n          }\r\n        }\r\n      })\r\n    },\r\n    printWindow () {\r\n      window.print()\r\n    }\r\n  },\r\n  created () {\r\n    this.orderId = this.$route.params.orderId\r\n    this.getOrder()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div class=\"modal fade\"\r\n        id=\"exampleModal\"\r\n        tabindex=\"-1\"\r\n        aria-labelledby=\"exampleModalLabel\"\r\n        aria-hidden=\"true\"\r\n        data-bs-backdrop=\"static\"\r\n        ref=\"modal\">\r\n    <div class=\"modal-dialog modal-dialog-centered modal-fullscreen\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n            點選賽馬開始遊戲 /\r\n            <span v-if=\"horse.id\">\r\n              您選擇的是\r\n              <span class=\"fs-1\">\r\n                {{ horse.id }}\r\n              </span>\r\n              號\r\n            </span>\r\n          </h5>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"container-fluid\">\r\n            <div  v-for=\"item in horses\"\r\n                  :key=\"item.id\"\r\n                  @click.once=\"selectHorse(item)\"\r\n                  class=\"horse d-flex\"\r\n                  :class=\"[ item.color,\r\n                            item.speed,\r\n                            `top-${item.id}`,\r\n                            {'animation-start': isPlay },\r\n                            {'selected-horse': horse.id === item.id}\r\n                          ]\"\r\n                  :disabled=\"true\"\r\n            >\r\n              <div class=\"fs-6\">\r\n                {{ item.id }}\r\n              </div>\r\n              <div>\r\n                <FontAwesomeIcon icon=\"fa-solid fa-horse\"/>\r\n              </div>\r\n            </div>\r\n            <span class=\"start\"></span>\r\n            <span class=\"end\"></span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport modalMixin from '@/mixins/modalMixin'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      modal: {},\r\n      horses: [\r\n        {\r\n          color: 'text-primary',\r\n          speed: 'linear',\r\n          id: 1\r\n        },\r\n        {\r\n          color: 'text-secondary',\r\n          speed: 'ease',\r\n          id: 2\r\n        },\r\n        {\r\n          color: 'text-success',\r\n          speed: 'ease-in',\r\n          id: 3\r\n        },\r\n        {\r\n          color: 'text-danger',\r\n          speed: 'ease-out',\r\n          id: 4\r\n        },\r\n        {\r\n          color: '',\r\n          speed: 'super',\r\n          id: 5\r\n        }\r\n      ],\r\n      horse: {},\r\n      rank: ['super', 'ease', 'ease-out', 'linear', 'ease-in'],\r\n      yourRank: 0,\r\n      gift: ['S級賽馬', 'A級賽馬', 'B級賽馬', 'C級賽馬', '馬鞍'],\r\n      isPlay: false,\r\n      horsesPosition: 0,\r\n      window: 0\r\n    }\r\n  },\r\n  mixins: [modalMixin],\r\n  methods: {\r\n    shuffleArray (inputArray) {\r\n      inputArray.sort(() => Math.random() - 0.5)\r\n    },\r\n    selectHorse (item) {\r\n      if (this.isPlay) return\r\n      this.horse = { ...item }\r\n      this.play()\r\n    },\r\n    getRank () {\r\n      this.isPlay = false\r\n      this.$swal.fire({\r\n        title: `恭喜獲得第${this.yourRank}名 <br>` +\r\n                `${this.gift[this.yourRank - 1]} x 1`,\r\n        text: '獎品將會在和商品一併寄出',\r\n        icon: 'success',\r\n        allowOutsideClick: false,\r\n        confirmButtonText: '繼續購物'\r\n      }).then(() => {\r\n        this.hideModal()\r\n        this.$router.push('/products')\r\n      })\r\n    },\r\n    play () {\r\n      this.isPlay = true\r\n      this.yourRank = this.rank.indexOf(this.horse.speed) + 1\r\n      setTimeout(this.getRank, 5000)\r\n    }\r\n  },\r\n  created () {\r\n    const newArray = [...this.rank]\r\n    this.shuffleArray(newArray)\r\n    this.horses.forEach((item, index) => {\r\n      item.speed = newArray[index]\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.modal-body{\r\n  position: relative;\r\n  overflow-x: hidden;\r\n}\r\n.horse{\r\n  position:absolute;\r\n  font-size:50px;\r\n  z-index: 1;\r\n}\r\n.selected-horse{\r\n  border-bottom: 5px dotted;\r\n}\r\n.animation-start{\r\n  animation:move 5s ;\r\n}\r\n.linear{\r\n  animation-timing-function: linear;\r\n  animation-fill-mode : forwards;\r\n}\r\n.ease{\r\n  animation-timing-function: ease;\r\n  animation-fill-mode : forwards;\r\n}\r\n.ease-in{\r\n  animation-timing-function: ease-in;\r\n  animation-fill-mode : forwards;\r\n}\r\n.ease-out{\r\n  animation-timing-function: ease-out;\r\n  animation-fill-mode : forwards;\r\n}\r\n.ease-in-out{\r\n  animation-timing-function: ease-in-out;\r\n  animation-fill-mode : forwards;\r\n}\r\n.super{\r\n  animation-timing-function: cubic-bezier(1,0,0.28,10);\r\n  animation-fill-mode : forwards;\r\n}\r\n@keyframes move{\r\n    0%{\r\n      left:5vw ;\r\n    }\r\n    100%{\r\n      left:100vw;\r\n    }\r\n}\r\n.modal-content{\r\n  height: 620px;\r\n}\r\n.start{\r\n  display:block;\r\n  position:absolute;\r\n  left: 80px;\r\n  height:480px;\r\n  border-left:2px solid red;\r\n}\r\n.end{\r\n  display:block;\r\n  position:absolute;\r\n  right: 36px;\r\n  height:480px;\r\n  border-left:2px solid red;\r\n}\r\n.top-1{\r\n  top:30px\r\n}\r\n.top-2{\r\n  top:130px\r\n}\r\n.top-3{\r\n  top:230px\r\n}\r\n.top-4{\r\n  top:330px\r\n}\r\n.top-5{\r\n  top:430px\r\n}\r\n</style>\r\n","import { render } from \"./GameModal.vue?vue&type=template&id=726bdade&scoped=true\"\nimport script from \"./GameModal.vue?vue&type=script&lang=js\"\nexport * from \"./GameModal.vue?vue&type=script&lang=js\"\n\nimport \"./GameModal.vue?vue&type=style&index=0&id=726bdade&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\kelvi\\\\Desktop\\\\github\\\\metahorse\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-726bdade\"]])\n\nexport default __exports__","import axios from 'axios'\r\nimport { defineStore } from 'pinia'\r\nimport statusStore from './statusStore'\r\n\r\nconst status = statusStore()\r\n\r\nexport default defineStore('orderStore', {\r\n  state: () => ({\r\n    orderId: '',\r\n    order: {\r\n      user: {}\r\n    }\r\n  }),\r\n  actions: {\r\n    getOrder () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderId}`\r\n      status.isLoading = true\r\n      axios.get(url)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            status.isLoading = false\r\n            this.order = res.data.order\r\n          }\r\n        }).catch(() => {\r\n          status.isLoading = false\r\n          status.pushManager(false, '更新', '發生錯誤，請重新整理頁面')\r\n        })\r\n    },\r\n    payOrder () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`\r\n      status.isLoading = true\r\n      axios.post(url)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            status.isLoading = false\r\n            this.getOrder()\r\n          }\r\n        }).catch(() => {\r\n          status.isLoading = false\r\n          status.pushManager(false, '更新', '發生錯誤，請重新整理頁面')\r\n        })\r\n    }\r\n  }\r\n})\r\n","import { render } from \"./CheckoutPay.vue?vue&type=template&id=18f152e8\"\nimport script from \"./CheckoutPay.vue?vue&type=script&lang=js\"\nexport * from \"./CheckoutPay.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\kelvi\\\\Desktop\\\\github\\\\metahorse\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["status","statusStore","defineStore","actions","copyCode","item","navigator","clipboard","writeText","then","pushManager","catch","isLoading","class","_createElementVNode","_createElementBlock","_ctx","name","_createVNode","_component_FontAwesomeIcon","icon","_hoisted_4","_hoisted_7","_hoisted_10","script","__exports__","render","colspan","id","width","_component_UserCheckoutBar","_hoisted_3","onSubmit","_hoisted_5","_Fragment","_renderList","products","key","_toDisplayString","product","title","qty","currency","final_total","total","_hoisted_12","href","onClick","_hoisted_16","date","create_at","_hoisted_17","user","email","_hoisted_18","_hoisted_19","tel","_hoisted_20","address","_hoisted_21","is_paid","_hoisted_22","type","$options","_component_GameModal","ref","tabindex","$data","color","speed","disabled","_hoisted_15","data","modal","horses","horse","rank","yourRank","gift","isPlay","horsesPosition","window","mixins","modalMixin","methods","shuffleArray","inputArray","sort","Math","random","selectHorse","this","play","getRank","$swal","fire","text","allowOutsideClick","confirmButtonText","hideModal","$router","push","indexOf","setTimeout","created","newArray","forEach","index","state","orderId","order","getOrder","url","axios","res","success","payOrder","components","UserCheckoutBar","GameModal","computed","mapWritableState","orderStore","mapState","mapActions","copyStore","showAlert","api","$http","post","$refs","showModal","printWindow","print","$route","params"],"sourceRoot":""}