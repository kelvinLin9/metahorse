{"version":3,"file":"js/455.2207b0c6.js","mappings":"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","sources":["webpack://hw1/./src/components/UserFooter.vue","webpack://hw1/./src/components/UserFooter.vue?18c9","webpack://hw1/./src/views/UserCart.vue","webpack://hw1/./src/views/UserCart.vue?698a"],"sourcesContent":["<template>\r\n  <div class=\"footer bg-dark mt-3 py-4 mt-md-5\">\r\n    <div class=\"container-fluid\">\r\n      <ul class=\"list-inline text-center\">\r\n        <li class=\"list-inline-item text-light\">\r\n          © Copyright 2022 MetaHorse\r\n        </li>\r\n      </ul>\r\n      <ul class=\"list-inline text-center\">\r\n        <li class=\"list-inline-item\">\r\n          <a class=\"text-light\" href=\"#\" @click.prevent=\"\">\r\n            <i class=\"bi bi-facebook\"></i>\r\n          </a>\r\n        </li>\r\n        <li class=\"list-inline-item ms-2\">\r\n          <a class=\"text-light\" href=\"#\" @click.prevent=\"\">\r\n            <i class=\"bi bi-messenger\"></i>\r\n          </a>\r\n        </li>\r\n        <li class=\"list-inline-item ms-2\">\r\n          <a class=\"text-light\" href=\"#\" @click.prevent=\"\">\r\n            <i class=\"bi bi-instagram\"></i>\r\n          </a>\r\n        </li>\r\n        <li class=\"list-inline-item ms-2\">\r\n          <a\r\n            class=\"text-light\"\r\n            href=\"\"\r\n            target=\"_blank\"\r\n          >\r\n            <i class=\"bi bi-github\"></i>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n      <ul class=\"list-inline text-center\">\r\n        <li class=\"list-inline-item text-light\">\r\n          個人練習作品，非商業用途\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n// .footer {\r\n  // position: fixed;\r\n  // width: 100%;\r\n  // top: 100;\r\n// }\r\n</style>\r\n","import { render } from \"./UserFooter.vue?vue&type=template&id=11da1bf7&scoped=true\"\nconst script = {}\n\nimport \"./UserFooter.vue?vue&type=style&index=0&id=11da1bf7&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\kelvi\\\\Desktop\\\\github\\\\metahorse\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-11da1bf7\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"cartBanner\">\r\n    <div class=\"bg-dark bg-opacity-75 w-100 h-100 d-flex align-items-center\">\r\n      <h1 class=\"w-100 d-flex align-items-center justify-content-center mb-0 mt-5\">\r\n        <span class=\"me-2 fs-1 fw-bolder text-white\">首購享66折</span>\r\n        <span class=\"fs-3 text-primary align-self-end\">/ 結帳輸入優惠碼：666666</span>\r\n      </h1>\r\n    </div>\r\n  </div>\r\n  <Loading :active=\"isLoading\"></Loading>\r\n  <div class=\"container my-5\">\r\n    <div class=\"d-flex justify-content-center\">\r\n      <h1 class=\"fs-2 text-center fw-bold\">購物清單</h1>\r\n    </div>\r\n    <div class=\"row mt-4\">\r\n      <!-- 購物車列表 -->\r\n      <div class=\"col\">\r\n       <table class=\"table align-middle\">\r\n         <thead class=\"table-primary\">\r\n           <tr>\r\n             <th style=\"width: 50px\">刪除</th>\r\n             <th style=\"width: 200px\">品名</th>\r\n             <th style=\"width: 200px\">圖片</th>\r\n             <th style=\"width: 80px\">單價</th>\r\n             <th style=\"width: 80px\">數量</th>\r\n             <th style=\"width: 250px\" class=\"text-end\">總價</th>\r\n           </tr>\r\n         </thead>\r\n         <tbody>\r\n         <template v-if=\"cart.carts\">\r\n           <tr v-for=\"item in cart.carts\" :key=\"item.id\">\r\n             <td>\r\n               <button type=\"button\" class=\"btn btn-outline-primary btn-sm\"\r\n                       :disabled=\"status.loadingItem === item.id\"\r\n                       @click=\"removeCartItem(item.id)\">\r\n                 <i class=\"bi bi-x\"></i>\r\n               </button>\r\n             </td>\r\n             <td>\r\n               {{ item.product.title }}  /  {{item.product.description }}\r\n               <div class=\"text-secondary fw-bold\" v-if=\"item.coupon\">\r\n                 已套用優惠券 ({{item.final_total / item.total * 100 }}% OFF)<br>\r\n                 代碼：{{item.coupon.code}}\r\n               </div>\r\n             </td>\r\n             <td>\r\n               <img :src=\"item.product.imageUrl\" alt=\"商品照片\" width=\"50\">\r\n             </td>\r\n             <td>\r\n               NT$ {{item.product.price}}\r\n             </td>\r\n             <td>\r\n               <div class=\"input-group input-group-sm\">\r\n                 <input type=\"number\" class=\"form-control\"\r\n                       min=\"1\"\r\n                       :disabled=\"item.id === status.loadingItem\"\r\n                       @change=\"updateCart(item)\"\r\n                       v-model.number=\"item.qty\">\r\n               </div>\r\n             </td>\r\n             <td class=\"text-end\">\r\n               <div v-if=\"item.final_total === item.total\" class=\"fs-3\">\r\n                   NT$ {{ $filters.currency(item.final_total) }}\r\n               </div>\r\n               <div v-if=\"item.final_total !== item.total\" class=\"fs-3\">\r\n                 <small class=\"text-secondary fs-6\">\r\n                 優惠券折扣價：\r\n                 </small>\r\n                 NT$ {{ $filters.currency(item.final_total) }}\r\n               </div>\r\n             </td>\r\n           </tr>\r\n         </template>\r\n         </tbody>\r\n         <tfoot>\r\n         <tr v-if=\"cart.final_total == cart.total\">\r\n           <td colspan=\"7\" class=\"text-end fs-1\">\r\n             總計：NT$ {{ $filters.currency(cart.total) }}\r\n           </td>\r\n         </tr>\r\n         <tr v-if=\"cart.final_total !== cart.total\">\r\n           <td colspan=\"7\" class=\"text-end fs-3\">\r\n             <del>總計：NT$ {{ $filters.currency(cart.total) }}</del>\r\n           </td>\r\n         </tr>\r\n         <tr v-if=\"cart.final_total !== cart.total\">\r\n           <td colspan=\"7\" class=\"text-end text-secondary fw-bold fs-1\">\r\n             折扣價：NT$ {{ $filters.currency(cart.final_total) }}\r\n           </td>\r\n         </tr>\r\n         </tfoot>\r\n       </table>\r\n\r\n       <div class=\"input-group mb-3 input-group-sm\"\r\n             v-if=\"cart.total !== 0\">\r\n         <input type=\"text\" class=\"form-control\" v-model=\"coupon_code\" placeholder=\"請輸入優惠碼\">\r\n         <div class=\"input-group-append\">\r\n           <button class=\"btn btn-outline-secondary fw-bold btn-lg\" type=\"button\" @click=\"addCouponCode\">\r\n             套用優惠碼\r\n           </button>\r\n         </div>\r\n       </div>\r\n       <!-- 另外寫函式處理 -->\r\n       <!-- <div v-for=\"item in cart.carts\" :key=\"item.id\">\r\n           已使用優惠碼：{{item.coupon.code}}\r\n       </div> -->\r\n       <!-- 另外寫函式處理 -->\r\n        <div class=\"d-flex justify-content-between mt-5\"\r\n             v-if=\"cart.total !== 0\">\r\n          <button type=\"button\" class=\"btn btn-primary btn-hover rounded-0 fw-bold btn-lg\"\r\n                @click=\"goProducts\">\r\n            <i class=\"bi bi-caret-left-fill\"></i>商品列表\r\n          </button>\r\n          <button type=\"button\" class=\"btn btn-primary btn-hover rounded-0 fw-bold btn-lg\"\r\n                  @click=\"goCheckout\">\r\n            填寫資料<i class=\"bi bi-caret-right-fill\"></i>\r\n          </button>\r\n        </div>\r\n        <div class=\"text-center pt-4\"\r\n             v-if=\"cart.total === 0\">\r\n          <h3 class=\"fw-bold\">購物車還沒有任何商品，趕快挑選產品加入購物車 !</h3>\r\n          <button type=\"button\" class=\"btn btn-dark btn-hover rounded-0 mt-5\"\r\n                  @click=\"goProducts\">\r\n            查看產品 Go\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <UserFooter/>\r\n</template>\r\n\r\n<script>\r\n// import emitter from '@/methods/emitter'\r\nimport UserFooter from '@/components/UserFooter.vue'\r\nexport default {\r\n  components: {\r\n    UserFooter\r\n  },\r\n  data () {\r\n    return {\r\n      products: [],\r\n      product: {},\r\n      status: {\r\n        // 對應品項 id 當loadingItem為一個特定品項的時候\r\n        // 我們就會把這個按鈕轉為disabled\r\n        loadingItem: ''\r\n      },\r\n      form: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      },\r\n      cart: {},\r\n      coupon_code: ''\r\n    }\r\n  },\r\n  inject: ['emitter'],\r\n  methods: {\r\n    goProducts () {\r\n      this.$router.push('/products')\r\n    },\r\n    goCheckout () {\r\n      this.$router.push('/checkout')\r\n    },\r\n    addCart (id) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.status.loadingItem = id\r\n      const cart = {\r\n        product_id: id,\r\n        qty: 1\r\n      }\r\n      this.$http.post(url, { data: cart })\r\n        .then((res) => {\r\n          // 等到ajax成功之後，再把id清空\r\n          this.status.loadingItem = ''\r\n          console.log(res)\r\n          this.getCart()\r\n        })\r\n    },\r\n    getCart () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.isLoading = true\r\n      this.$http.get(url).then((response) => {\r\n        console.log(response)\r\n        this.cart = response.data.data\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    // 更改購物車商品數量\r\n    updateCart (item) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`\r\n      this.isLoading = true\r\n      this.status.loadingItem = item.id\r\n      const cart = {\r\n        product_id: item.product_id,\r\n        qty: item.qty\r\n      }\r\n      this.$http.put(url, { data: cart }).then((res) => {\r\n        console.log(res)\r\n        this.status.loadingItem = ''\r\n        this.getCart()\r\n      })\r\n    },\r\n    removeCartItem (id) {\r\n      this.status.loadingItem = id\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`\r\n      this.isLoading = true\r\n      this.$http.delete(url).then((response) => {\r\n        this.$httpMessageState(response, '移除購物車品項')\r\n        this.status.loadingItem = ''\r\n        this.getCart()\r\n        this.isLoading = false\r\n        emitter.emit('update-cart')\r\n      })\r\n    },\r\n    addCouponCode () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`\r\n      const coupon = {\r\n        code: this.coupon_code\r\n      }\r\n      this.isLoading = true\r\n      this.$http.post(url, { data: coupon }).then((response) => {\r\n        console.log(response.data.message)\r\n        this.$httpMessageState(response, '加入優惠券')\r\n        this.getCart()\r\n        this.isLoading = false\r\n        this.coupon_code = ''\r\n      })\r\n    },\r\n    createOrder () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`\r\n      const order = this.form\r\n      this.$http.post(url, { data: order })\r\n        .then((res) => {\r\n          console.log(res)\r\n        })\r\n    }\r\n  },\r\n  created () {\r\n    this.getCart()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.cartBanner {\r\n  height: 300px;\r\n  background-image: url(https://i.imgur.com/6ix9eOm.jpg);\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  background-position:center ;\r\n}\r\n</style>\r\n","import { render } from \"./UserCart.vue?vue&type=template&id=6fc605ba&scoped=true\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport \"./UserCart.vue?vue&type=style&index=0&id=6fc605ba&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\kelvi\\\\Desktop\\\\github\\\\metahorse\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6fc605ba\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_6","_hoisted_9","_hoisted_12","href","target","_createElementBlock","_hoisted_3","onClick","_hoisted_14","_hoisted_15","script","__exports__","render","style","colspan","_hoisted_29","_hoisted_33","_hoisted_1","_createVNode","_component_Loading","active","_ctx","_hoisted_7","$data","carts","_Fragment","key","_renderList","item","id","type","disabled","loadingItem","$options","product","title","_toDisplayString","description","coupon","final_total","total","code","src","imageUrl","alt","width","price","min","onChange","qty","$event","currency","_hoisted_19","_hoisted_20","_hoisted_22","_hoisted_24","placeholder","_hoisted_36","_component_UserFooter","components","UserFooter","data","products","status","form","user","name","email","tel","address","message","cart","coupon_code","inject","methods","goProducts","this","$router","push","goCheckout","addCart","url","product_id","$http","post","then","res","console","log","getCart","isLoading","get","response","updateCart","put","removeCartItem","delete","$httpMessageState","emitter","emit","addCouponCode","createOrder","order","created"],"sourceRoot":""}