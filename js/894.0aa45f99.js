"use strict";(self["webpackChunkhw1"]=self["webpackChunkhw1"]||[]).push([[894],{4677:function(a,t,e){var o=e(6265),s=e.n(o),c=e(1120),i=e(4301),n=e(6294);const r=(0,n.Z)();t["Z"]=(0,i.Q_)("cartStore",{state:()=>({cart:{},cartNum:0,cartBoxState:!1,form:{user:{name:"",email:"",tel:"",address:""},message:""}}),actions:{getCart(){const a="https://vue3-course-api.hexschool.io/api/kelvinlin9/cart";r.isLoading=!0,s().get(a).then((a=>{this.cartNum=a.data.data.carts.length,this.cart=a.data.data,r.isLoading=!1})).catch((()=>{r.isLoading=!1,r.pushManager(!1,"更新","發生錯誤，請重新整理頁面")}))},updateCart(a){const t=`https://vue3-course-api.hexschool.io/api/kelvinlin9/cart/${a.id}`;r.isLoading=!0,r.cartLoadingItem=a.id;const e={product_id:a.product_id,qty:a.qty};s().put(t,{data:e}).then((()=>{r.cartLoadingItem="",this.getCart()})).catch((()=>{r.isLoading=!1,r.pushManager(!1,"更新","發生錯誤，請重新操作")}))},removeCartItem(a){r.cartLoadingItem=a;const t=`https://vue3-course-api.hexschool.io/api/kelvinlin9/cart/${a}`;r.isLoading=!0,s()["delete"](t).then((a=>{r.pushManager(a,"刪除","此項目已移除購物車"),r.cartLoadingItem="",this.getCart(),r.isLoading=!1})).catch((()=>{r.isLoading=!1,r.pushManager(!1,"刪除","發生錯誤，請重新操作")}))},addCart(a,t=1){const e="https://vue3-course-api.hexschool.io/api/kelvinlin9/cart";r.cartLoadingItem=a;const o={product_id:a,qty:t};s().post(e,{data:o}).then((a=>{r.cartLoadingItem="",this.getCart(),r.pushManager(a,"更新","已加入購物車")})).catch((()=>{r.isLoading=!1,r.pushManager(!1,"更新","發生錯誤，請重新整理頁面")}))},cartBoxToggle(){this.cartBoxState=!this.cartBoxState},gotoPay(){const a="https://vue3-course-api.hexschool.io/api/kelvinlin9/order",t=this.form;s().post(a,{data:t}).then((a=>{c.Z.push(`/checkoutPay/${a.data.orderId}`),this.form={user:{name:"",email:"",tel:"",address:""},message:""},this.getCart()})).catch((()=>{r.isLoading=!1,r.pushManager(!1,"傳送","發生錯誤，請重新填寫資料並送出")}))}}})},4371:function(a,t,e){var o=e(4301),s=e(6294);const c=(0,s.Z)();t["Z"]=(0,o.Q_)("copyStore",{actions:{copyCode(a){navigator.clipboard.writeText(a).then((()=>{c.pushManager(!0,"複製","請到購物車頁面使用")})).catch((()=>{c.isLoading=!1,c.pushManager(!1,"複製","發生錯誤，請重新操作")}))}}})},2974:function(a,t,e){var o=e(6265),s=e.n(o),c=e(4301),i=e(6294),n=e(4677);const r=(0,i.Z)(),d=(0,n.Z)();t["Z"]=(0,c.Q_)("couponStore",{state:()=>({coupon_code:"",coupons:[{id:1,img:"https://storage.googleapis.com/vue-course-api.appspot.com/kelvinlin9/1666490147962.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=fUWCF92T7UOQmxyyD5gz2nw%2Bjr%2BHgwls%2BA%2FaAgyZRvtqzsfO3z5I%2BwWGezKKqZFk6ABtySVop1u4cly6WGzGFYxes1eAP%2B7IW%2FUzml%2FeA3LiwzK1ZNfmTUVIs0lVE1s2SKJwjYR3hwaHTd3b5y5EPUYlglXpyOwwMcVNUnjSkNz0LwpAc0HyO9D5dCKV8p54sm3D5oOex5TpqiZOkvMH2X1%2B56ZxKrCJ8N2Z3En08bKMlLgurqSHCt05WVf%2Bws8KVyHD8OhILwH%2FDEBZqHU11FcGg2BRFaMJkpoAFtI1%2FLLvCL1PTBTFVWF85dcXFXXWiV3UdCUEGuE4CU4PeRPWzQ%3D%3D",discount:"5折",code:"diamond"},{id:2,img:"https://storage.googleapis.com/vue-course-api.appspot.com/kelvinlin9/1666490106008.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=gXFy4XDqe5X0ZSVTA2mql1Tla2b7rAZ9BRGAccBurkQu7I21PPNlft7KNoYZlzVXJG9jJMKtpce7x1SU%2FvF%2BuyrNCoagM8sCB7TDUr6flq4a4ogf54dv7PS%2FzkcZKw198l2WDa7El4VFCpp9RwBiDafo9bwwWv%2BZSeRShd4nOPEd2xU11sM%2FqbGt2BK5V3Es5%2FxH1mh%2Bw2Vaq7%2FEABrGb3VjytLlboUoercBRvaI4stnQIGv8d6Gog2w87uqTGUDsgNj5f0zy03W5g9Zle3PFWwdhYP7C6wC1wgYhbPXIYLGAEAr0XOQkP34bff%2B%2FwZBpTp7j8aNT2Q8OCRDcSZcyg%3D%3D",discount:"7折",code:"gold"},{id:3,img:"https://storage.googleapis.com/vue-course-api.appspot.com/kelvinlin9/1666490131972.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=CL0yLgoV3%2BnVZewXtdQUGNOVOVpjc5UF1bSnI%2FcoZEdWk9zgUoSPOF3KSNkKz5Y8k6aMHVg6l3RidhTwITzToc%2F86OIEcTTWRdbPMMNA9LKHkHK1MLb7OFoTYI9EBxx5RoVq0r4TXGPnMQ%2BMcjZLQSRMbWnpA13PcFQUkYxsmQeDtpLrJXu9Z%2FyouHQr7NCvhGyO2Tw7qzLLBjQAQEOBXjvl9ZZJHoSNjv3vmTc%2FIy8hIv%2FyzFxHhRqA5D2Y38yhtvVg31TbqisX1ezyUOnAzARDj%2FCDmAgDPSVkIGMNgtutvPQHDY3WJ6ooC2yINJ0fuk%2FHTSEUg7i%2BMcXlbbhyaQ%3D%3D",discount:"8折",code:"silver"}],coupon:{},draw:!1}),actions:{addCouponCode(a){this.coupon_code=a;const t="https://vue3-course-api.hexschool.io/api/kelvinlin9/coupon",e={code:`${a}`};r.isLoading=!0,s().post(t,{data:e}).then((a=>{!0===a.data.success?(r.pushManager(a,"加入優惠券",a.data.message),d.getCart(),r.isLoading=!1,this.coupon_code=""):(r.pushManager(!1,"加入優惠券",a.data.message),r.isLoading=!1,this.coupon_code="")})).catch((()=>{r.isLoading=!1,r.pushManager(!1,"更新","發生錯誤，請重新操作")}))},luckyDraw(a,t){const e=Math.floor(Math.random()*(t-a+1))+a;this.coupon=this.coupons[e],this.draw=!0}}})},6294:function(a,t,e){var o=e(4301);t["Z"]=(0,o.Q_)("statusStore",{state:()=>({isLoading:[],cartLoadingItem:"",messages:[]}),actions:{pushManager(a=!0,t="更新",e=""){if(a){const a={style:"success",title:`${t}成功`,content:`${e}`};this.messages.push(a)}else{const a={style:"danger",title:`${t}失敗`,content:`${e}`};this.messages.push(a)}}}})},6894:function(a,t,e){e.r(t),e.d(t,{default:function(){return Z}});var o=e(3396),s=e(7139);const c=a=>((0,o.dD)("data-v-66236d2e"),a=a(),(0,o.Cn)(),a),i=(0,o.uE)('<div class="couponBanner" data-v-66236d2e><div class="bg-dark bg-opacity-75 w-100 h-100 d-flex align-items-center" data-v-66236d2e><h1 class="w-100 d-flex align-items-center justify-content-center" data-v-66236d2e><span class="me-2 fs-1 fw-bolder text-white" data-v-66236d2e>幸運抽獎</span><span class="fs-4 text-primary align-self-end" data-v-66236d2e>/ Lucky Draw</span></h1></div></div>',1),n={class:"container py-5 d-flex flex-column align-items-center"},r={key:0,class:"la-square-jelly-box my-5"},d=c((()=>(0,o._)("img",{src:"https://storage.googleapis.com/vue-course-api.appspot.com/kelvinlin9/1666489905621.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=ZvwFR%2FmgVGiu9WIDNpTZS5J%2FuDG90OzdYLSmDvlXcfvxnPsBt2AM6yNeH5D5CQJd2shjGTwkJWbPKqvqKA9a%2BE74cJXFwpxSnYlguO7ujuWtD3t9Ieu3P9HsyQcmZab9DoxaNWJyLBNuVgbiQziVVom0XvVlMq%2B7r6gf3cPiPl5M3HOpPlHbILos%2BGxHz6E3DsNExbgEJQww2HO4tx0pec2gThRbqB8nxb%2Bwco8hOETNkWBWmYnWAOSlqh3wo7QFSXb0H0lJcw9tFda3sR9Sh0aD3%2FI5%2FZHIXWC5QEOyNWdfubHqQ9YsCoecmGr1iOuK3NbAih2NuG6wynIxeDjnIw%3D%3D",alt:"寶箱","data-aos":"fade-down","data-aos-duration":"1500"},null,-1))),u=c((()=>(0,o._)("img",{src:"https://storage.googleapis.com/vue-course-api.appspot.com/kelvinlin9/1666489905621.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=ZvwFR%2FmgVGiu9WIDNpTZS5J%2FuDG90OzdYLSmDvlXcfvxnPsBt2AM6yNeH5D5CQJd2shjGTwkJWbPKqvqKA9a%2BE74cJXFwpxSnYlguO7ujuWtD3t9Ieu3P9HsyQcmZab9DoxaNWJyLBNuVgbiQziVVom0XvVlMq%2B7r6gf3cPiPl5M3HOpPlHbILos%2BGxHz6E3DsNExbgEJQww2HO4tx0pec2gThRbqB8nxb%2Bwco8hOETNkWBWmYnWAOSlqh3wo7QFSXb0H0lJcw9tFda3sR9Sh0aD3%2FI5%2FZHIXWC5QEOyNWdfubHqQ9YsCoecmGr1iOuK3NbAih2NuG6wynIxeDjnIw%3D%3D",alt:"陰影","data-aos":"zoom-in","data-aos-duration":"1500"},null,-1))),p=[d,u],l={key:1,class:"mt-1"},g=["src"],h={key:3,class:"d-flex flex-column align-items-center"},m={class:"fs-5 text-center fw-bold"},v=(0,o.Uk)(" 恭喜獲得 "),w={class:"fs-1"},y=(0,o.Uk)(" 優惠"),b=c((()=>(0,o._)("br",null,null,-1))),k=(0,o.Uk)(" 折扣碼: "),f={id:"couponCode"};function x(a,t,e,c,d,u){return(0,o.wg)(),(0,o.iD)(o.HY,null,[i,(0,o._)("div",n,[a.draw?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",r,p)),a.draw?((0,o.wg)(),(0,o.iD)("div",l,[(0,o._)("img",{src:a.coupon.img,class:"img-fluid",alt:"獎品"},null,8,g)])):(0,o.kq)("",!0),a.draw?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:2,type:"button",class:"btn btn-outline-primary text-dark fw-bold fs-5",onClick:t[0]||(t[0]=t=>a.luckyDraw(0,2))}," 抽獎 ")),a.draw?((0,o.wg)(),(0,o.iD)("div",h,[(0,o._)("div",m,[v,(0,o._)("span",w,(0,s.zw)(a.coupon.discount),1),y,b,k,(0,o._)("span",f,(0,s.zw)(a.coupon.code),1)]),(0,o._)("button",{type:"button",class:"btn btn-outline-primary text-dark fw-bold fs-6 mt-3",onClick:t[1]||(t[1]=t=>a.copyCode(a.coupon.code))}," 複製折扣碼 ")])):(0,o.kq)("",!0)])],64)}var D=e(4301),F=e(2974),B=e(4371),L={computed:{...(0,D.rn)(F.Z,["coupon","draw"])},methods:{...(0,D.nv)(F.Z,["luckyDraw"]),...(0,D.nv)(B.Z,["copyCode"])}},I=e(89);const C=(0,I.Z)(L,[["render",x],["__scopeId","data-v-66236d2e"]]);var Z=C}}]);
//# sourceMappingURL=894.0aa45f99.js.map