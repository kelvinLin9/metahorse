"use strict";(self["webpackChunkhw1"]=self["webpackChunkhw1"]||[]).push([[455],{7429:function(t,e,s){s.d(e,{Z:function(){return $}});var a=s(3396),i=s(9242);const l=t=>((0,a.dD)("data-v-11da1bf7"),t=t(),(0,a.Cn)(),t),n={class:"footer bg-dark mt-3 py-4 mt-md-5"},o={class:"container-fluid"},c=l((()=>(0,a._)("ul",{class:"list-inline text-center"},[(0,a._)("li",{class:"list-inline-item text-light"}," © Copyright 2022 MetaHorse ")],-1))),r={class:"list-inline text-center"},d={class:"list-inline-item"},u=l((()=>(0,a._)("i",{class:"bi bi-facebook"},null,-1))),p=[u],h={class:"list-inline-item ms-2"},g=l((()=>(0,a._)("i",{class:"bi bi-messenger"},null,-1))),_=[g],b={class:"list-inline-item ms-2"},f=l((()=>(0,a._)("i",{class:"bi bi-instagram"},null,-1))),m=[f],v=l((()=>(0,a._)("li",{class:"list-inline-item ms-2"},[(0,a._)("a",{class:"text-light",href:"",target:"_blank"},[(0,a._)("i",{class:"bi bi-github"})])],-1))),k=l((()=>(0,a._)("ul",{class:"list-inline text-center"},[(0,a._)("li",{class:"list-inline-item text-light"}," 個人練習作品，非商業用途 ")],-1)));function y(t,e){return(0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("div",o,[c,(0,a._)("ul",r,[(0,a._)("li",d,[(0,a._)("a",{class:"text-light",href:"#",onClick:e[0]||(e[0]=(0,i.iM)((()=>{}),["prevent"]))},p)]),(0,a._)("li",h,[(0,a._)("a",{class:"text-light",href:"#",onClick:e[1]||(e[1]=(0,i.iM)((()=>{}),["prevent"]))},_)]),(0,a._)("li",b,[(0,a._)("a",{class:"text-light",href:"#",onClick:e[2]||(e[2]=(0,i.iM)((()=>{}),["prevent"]))},m)]),v]),k])])}var w=s(89);const x={},C=(0,w.Z)(x,[["render",y],["__scopeId","data-v-11da1bf7"]]);var $=C},455:function(t,e,s){s.r(e),s.d(e,{default:function(){return K}});var a=s(3396),i=s(7139),l=s(9242);const n=t=>((0,a.dD)("data-v-6fc605ba"),t=t(),(0,a.Cn)(),t),o=(0,a.uE)('<div class="cartBanner" data-v-6fc605ba><div class="bg-dark bg-opacity-75 w-100 h-100 d-flex align-items-center" data-v-6fc605ba><h1 class="w-100 d-flex align-items-center justify-content-center mb-0 mt-5" data-v-6fc605ba><span class="me-2 fs-1 fw-bolder text-white" data-v-6fc605ba>首購享66折</span><span class="fs-3 text-primary align-self-end" data-v-6fc605ba>/ 結帳輸入優惠碼：666666</span></h1></div></div>',1),c={class:"container my-5"},r=n((()=>(0,a._)("div",{class:"d-flex justify-content-center"},[(0,a._)("h1",{class:"fs-2 text-center fw-bold"},"購物清單")],-1))),d={class:"row mt-4"},u={class:"col"},p={class:"table align-middle"},h=n((()=>(0,a._)("thead",{class:"table-primary"},[(0,a._)("tr",null,[(0,a._)("th",{style:{width:"50px"}},"刪除"),(0,a._)("th",{style:{width:"200px"}},"品名"),(0,a._)("th",{style:{width:"200px"}},"圖片"),(0,a._)("th",{style:{width:"80px"}},"單價"),(0,a._)("th",{style:{width:"80px"}},"數量"),(0,a._)("th",{style:{width:"250px"},class:"text-end"},"總價")])],-1))),g=["disabled","onClick"],_=n((()=>(0,a._)("i",{class:"bi bi-x"},null,-1))),b=[_],f={key:0,class:"text-secondary fw-bold"},m=n((()=>(0,a._)("br",null,null,-1))),v=["src"],k={class:"input-group input-group-sm"},y=["disabled","onChange","onUpdate:modelValue"],w={class:"text-end"},x={key:0,class:"fs-3"},C={key:1,class:"fs-3"},$=n((()=>(0,a._)("small",{class:"text-secondary fs-6"}," 優惠券折扣價： ",-1))),q={key:0},D={colspan:"7",class:"text-end fs-1"},I={key:1},U={colspan:"7",class:"text-end fs-3"},z={key:2},L={colspan:"7",class:"text-end text-secondary fw-bold fs-1"},M={key:0,class:"input-group mb-3 input-group-sm"},N={class:"input-group-append"},T={key:1,class:"d-flex justify-content-between mt-5"},P=n((()=>(0,a._)("i",{class:"bi bi-caret-left-fill"},null,-1))),j=(0,a.Uk)("商品列表 "),F=[P,j],Z=(0,a.Uk)(" 填寫資料"),H=n((()=>(0,a._)("i",{class:"bi bi-caret-right-fill"},null,-1))),V=[Z,H],O={key:2,class:"text-center pt-4"},S=n((()=>(0,a._)("h3",{class:"fw-bold"},"購物車還沒有任何商品，趕快挑選產品加入購物車 !",-1)));function W(t,e,s,n,_,P){const j=(0,a.up)("Loading"),Z=(0,a.up)("UserFooter");return(0,a.wg)(),(0,a.iD)(a.HY,null,[o,(0,a.Wm)(j,{active:t.isLoading},null,8,["active"]),(0,a._)("div",c,[r,(0,a._)("div",d,[(0,a._)("div",u,[(0,a._)("table",p,[h,(0,a._)("tbody",null,[_.cart.carts?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(_.cart.carts,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",null,[(0,a._)("button",{type:"button",class:"btn btn-outline-primary btn-sm",disabled:_.status.loadingItem===e.id,onClick:t=>P.removeCartItem(e.id)},b,8,g)]),(0,a._)("td",null,[(0,a.Uk)((0,i.zw)(e.product.title)+" / "+(0,i.zw)(e.product.description)+" ",1),e.coupon?((0,a.wg)(),(0,a.iD)("div",f,[(0,a.Uk)(" 已套用優惠券 ("+(0,i.zw)(e.final_total/e.total*100)+"% OFF)",1),m,(0,a.Uk)(" 代碼："+(0,i.zw)(e.coupon.code),1)])):(0,a.kq)("",!0)]),(0,a._)("td",null,[(0,a._)("img",{src:e.product.imageUrl,alt:"商品照片",width:"50"},null,8,v)]),(0,a._)("td",null," NT$ "+(0,i.zw)(e.product.price),1),(0,a._)("td",null,[(0,a._)("div",k,[(0,a.wy)((0,a._)("input",{type:"number",class:"form-control",min:"1",disabled:e.id===_.status.loadingItem,onChange:t=>P.updateCart(e),"onUpdate:modelValue":t=>e.qty=t},null,40,y),[[l.nr,e.qty,void 0,{number:!0}]])])]),(0,a._)("td",w,[e.final_total===e.total?((0,a.wg)(),(0,a.iD)("div",x," NT$ "+(0,i.zw)(t.$filters.currency(e.final_total)),1)):(0,a.kq)("",!0),e.final_total!==e.total?((0,a.wg)(),(0,a.iD)("div",C,[$,(0,a.Uk)(" NT$ "+(0,i.zw)(t.$filters.currency(e.final_total)),1)])):(0,a.kq)("",!0)])])))),128)):(0,a.kq)("",!0)]),(0,a._)("tfoot",null,[_.cart.final_total==_.cart.total?((0,a.wg)(),(0,a.iD)("tr",q,[(0,a._)("td",D," 總計：NT$ "+(0,i.zw)(t.$filters.currency(_.cart.total)),1)])):(0,a.kq)("",!0),_.cart.final_total!==_.cart.total?((0,a.wg)(),(0,a.iD)("tr",I,[(0,a._)("td",U,[(0,a._)("del",null,"總計：NT$ "+(0,i.zw)(t.$filters.currency(_.cart.total)),1)])])):(0,a.kq)("",!0),_.cart.final_total!==_.cart.total?((0,a.wg)(),(0,a.iD)("tr",z,[(0,a._)("td",L," 折扣價：NT$ "+(0,i.zw)(t.$filters.currency(_.cart.final_total)),1)])):(0,a.kq)("",!0)])]),0!==_.cart.total?((0,a.wg)(),(0,a.iD)("div",M,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=t=>_.coupon_code=t),placeholder:"請輸入優惠碼"},null,512),[[l.nr,_.coupon_code]]),(0,a._)("div",N,[(0,a._)("button",{class:"btn btn-outline-secondary fw-bold btn-lg",type:"button",onClick:e[1]||(e[1]=(...t)=>P.addCouponCode&&P.addCouponCode(...t))}," 套用優惠碼 ")])])):(0,a.kq)("",!0),0!==_.cart.total?((0,a.wg)(),(0,a.iD)("div",T,[(0,a._)("button",{type:"button",class:"btn btn-primary btn-hover rounded-0 fw-bold btn-lg",onClick:e[2]||(e[2]=(...t)=>P.goProducts&&P.goProducts(...t))},F),(0,a._)("button",{type:"button",class:"btn btn-primary btn-hover rounded-0 fw-bold btn-lg",onClick:e[3]||(e[3]=(...t)=>P.goCheckout&&P.goCheckout(...t))},V)])):(0,a.kq)("",!0),0===_.cart.total?((0,a.wg)(),(0,a.iD)("div",O,[S,(0,a._)("button",{type:"button",class:"btn btn-dark btn-hover rounded-0 mt-5",onClick:e[4]||(e[4]=(...t)=>P.goProducts&&P.goProducts(...t))}," 查看產品 Go ")])):(0,a.kq)("",!0)])])]),(0,a.Wm)(Z)],64)}var Y=s(7429),B={components:{UserFooter:Y.Z},data(){return{products:[],product:{},status:{loadingItem:""},form:{user:{name:"",email:"",tel:"",address:""},message:""},cart:{},coupon_code:""}},inject:["emitter"],methods:{goProducts(){this.$router.push("/products")},goCheckout(){this.$router.push("/checkout")},addCart(t){const e="https://vue3-course-api.hexschool.io/api/kelvinlin9/cart";this.status.loadingItem=t;const s={product_id:t,qty:1};this.$http.post(e,{data:s}).then((t=>{this.status.loadingItem="",console.log(t),this.getCart()}))},getCart(){const t="https://vue3-course-api.hexschool.io/api/kelvinlin9/cart";this.isLoading=!0,this.$http.get(t).then((t=>{console.log(t),this.cart=t.data.data,this.isLoading=!1}))},updateCart(t){const e=`https://vue3-course-api.hexschool.io/api/kelvinlin9/cart/${t.id}`;this.isLoading=!0,this.status.loadingItem=t.id;const s={product_id:t.product_id,qty:t.qty};this.$http.put(e,{data:s}).then((t=>{console.log(t),this.status.loadingItem="",this.getCart()}))},removeCartItem(t){this.status.loadingItem=t;const e=`https://vue3-course-api.hexschool.io/api/kelvinlin9/cart/${t}`;this.isLoading=!0,this.$http.delete(e).then((t=>{this.$httpMessageState(t,"移除購物車品項"),this.status.loadingItem="",this.getCart(),this.isLoading=!1,emitter.emit("update-cart")}))},addCouponCode(){const t="https://vue3-course-api.hexschool.io/api/kelvinlin9/coupon",e={code:this.coupon_code};this.isLoading=!0,this.$http.post(t,{data:e}).then((t=>{console.log(t.data.message),this.$httpMessageState(t,"加入優惠券"),this.getCart(),this.isLoading=!1,this.coupon_code=""}))},createOrder(){const t="https://vue3-course-api.hexschool.io/api/kelvinlin9/order",e=this.form;this.$http.post(t,{data:e}).then((t=>{console.log(t)}))}},created(){this.getCart()}},E=s(89);const G=(0,E.Z)(B,[["render",W],["__scopeId","data-v-6fc605ba"]]);var K=G}}]);
//# sourceMappingURL=455.96b4f309.js.map