"use strict";(self["webpackChunkhw1"]=self["webpackChunkhw1"]||[]).push([[274],{7429:function(t,e,s){s.d(e,{Z:function(){return $}});var i=s(3396),l=s(9242);const a=t=>((0,i.dD)("data-v-11da1bf7"),t=t(),(0,i.Cn)(),t),n={class:"footer bg-dark mt-3 py-4 mt-md-5"},o={class:"container-fluid"},c=a((()=>(0,i._)("ul",{class:"list-inline text-center"},[(0,i._)("li",{class:"list-inline-item text-light"}," © Copyright 2022 MetaHorse ")],-1))),r={class:"list-inline text-center"},d={class:"list-inline-item"},u=a((()=>(0,i._)("i",{class:"bi bi-facebook"},null,-1))),p=[u],h={class:"list-inline-item ms-2"},_=a((()=>(0,i._)("i",{class:"bi bi-messenger"},null,-1))),g=[_],b={class:"list-inline-item ms-2"},f=a((()=>(0,i._)("i",{class:"bi bi-instagram"},null,-1))),m=[f],k=a((()=>(0,i._)("li",{class:"list-inline-item ms-2"},[(0,i._)("a",{class:"text-light",href:"",target:"_blank"},[(0,i._)("i",{class:"bi bi-github"})])],-1))),v=a((()=>(0,i._)("ul",{class:"list-inline text-center"},[(0,i._)("li",{class:"list-inline-item text-light"}," 個人練習作品，非商業用途 ")],-1)));function y(t,e){return(0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("div",o,[c,(0,i._)("ul",r,[(0,i._)("li",d,[(0,i._)("a",{class:"text-light",href:"#",onClick:e[0]||(e[0]=(0,l.iM)((()=>{}),["prevent"]))},p)]),(0,i._)("li",h,[(0,i._)("a",{class:"text-light",href:"#",onClick:e[1]||(e[1]=(0,l.iM)((()=>{}),["prevent"]))},g)]),(0,i._)("li",b,[(0,i._)("a",{class:"text-light",href:"#",onClick:e[2]||(e[2]=(0,l.iM)((()=>{}),["prevent"]))},m)]),k]),v])])}var w=s(89);const x={},C=(0,w.Z)(x,[["render",y],["__scopeId","data-v-11da1bf7"]]);var $=C},5274:function(t,e,s){s.r(e),s.d(e,{default:function(){return A}});var i=s(3396),l=s(7139),a=s(9242);const n=t=>((0,i.dD)("data-v-7253444c"),t=t(),(0,i.Cn)(),t),o=(0,i.uE)('<div class="cartBanner" data-v-7253444c><div class="bg-dark bg-opacity-75 w-100 h-100 d-flex align-items-center" data-v-7253444c><h1 class="w-100 d-flex align-items-center justify-content-center mb-0 mt-5" data-v-7253444c><span class="me-2 fs-1 fw-bolder text-white" data-v-7253444c>首購享66折</span><span class="fs-3 text-primary align-self-end" data-v-7253444c>/ 結帳輸入優惠碼：666666</span></h1></div></div>',1),c={class:"container my-5"},r=n((()=>(0,i._)("div",{class:"d-flex justify-content-center"},[(0,i._)("h1",{class:"fs-2 text-center fw-bold"},"購物清單")],-1))),d={class:"row mt-4"},u={class:"col"},p={class:"table align-middle"},h=n((()=>(0,i._)("thead",{class:"table-primary"},[(0,i._)("tr",null,[(0,i._)("th",{style:{width:"50px"}},"刪除"),(0,i._)("th",{style:{width:"150px"}},"品名"),(0,i._)("th",{style:{width:"100px"}},"圖片"),(0,i._)("th",{style:{width:"80px"}},"單價"),(0,i._)("th",{style:{width:"80px"}},"數量"),(0,i._)("th",{style:{width:"200px"},class:"text-end"},"總價")])],-1))),_=["disabled","onClick"],g=n((()=>(0,i._)("i",{class:"bi bi-x"},null,-1))),b=[g],f={key:0,class:"text-secondary fw-bold"},m=n((()=>(0,i._)("br",null,null,-1))),k=["src"],v={class:"input-group input-group-sm"},y=["disabled","onChange","onUpdate:modelValue"],w={class:"text-end"},x={key:0,class:"fs-5"},C={key:1,class:"fs-5"},$=n((()=>(0,i._)("small",{class:"text-secondary fs-6"}," 優惠券折扣價： ",-1))),D={key:0},q={colspan:"7",class:"text-end fs-1"},U={key:1},I={colspan:"7",class:"text-end fs-3"},z={key:2},L={colspan:"7",class:"text-end text-secondary fw-bold fs-1"},M={key:0,class:"input-group mb-3 input-group-sm"},N={class:"input-group-append"},T={key:1,class:"d-flex justify-content-between mt-5"},Z=n((()=>(0,i._)("i",{class:"bi bi-caret-left-fill"},null,-1))),P=(0,i.Uk)("商品列表 "),j=[Z,P],F=(0,i.Uk)(" 填寫資料"),H=n((()=>(0,i._)("i",{class:"bi bi-caret-right-fill"},null,-1))),V=[F,H],S={key:2,class:"text-center pt-4"},W=n((()=>(0,i._)("h3",{class:"fw-bold"},"購物車還沒有任何商品，趕快挑選產品加入購物車 !",-1)));function Y(t,e,s,n,g,Z){const P=(0,i.up)("Loading"),F=(0,i.up)("UserFooter");return(0,i.wg)(),(0,i.iD)(i.HY,null,[o,(0,i.Wm)(P,{active:t.isLoading},null,8,["active"]),(0,i._)("div",c,[r,(0,i._)("div",d,[(0,i._)("div",u,[(0,i._)("table",p,[h,(0,i._)("tbody",null,[g.cart.carts?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(g.cart.carts,(e=>((0,i.wg)(),(0,i.iD)("tr",{key:e.id},[(0,i._)("td",null,[(0,i._)("button",{type:"button",class:"btn btn-outline-primary btn-sm",disabled:g.status.loadingItem===e.id,onClick:t=>Z.removeCartItem(e.id)},b,8,_)]),(0,i._)("td",null,[(0,i.Uk)((0,l.zw)(e.product.title)+" / "+(0,l.zw)(e.product.description)+" ",1),e.coupon?((0,i.wg)(),(0,i.iD)("div",f,[(0,i.Uk)(" 已套用優惠券 ("+(0,l.zw)(e.final_total/e.total*100)+"% OFF)",1),m,(0,i.Uk)(" 代碼："+(0,l.zw)(e.coupon.code),1)])):(0,i.kq)("",!0)]),(0,i._)("td",null,[(0,i._)("img",{src:e.product.imageUrl,alt:"商品照片",width:"50"},null,8,k)]),(0,i._)("td",null," NT$ "+(0,l.zw)(e.product.price),1),(0,i._)("td",null,[(0,i._)("div",v,[(0,i.wy)((0,i._)("input",{type:"number",class:"form-control",min:"1",disabled:e.id===g.status.loadingItem,onChange:t=>Z.updateCart(e),"onUpdate:modelValue":t=>e.qty=t},null,40,y),[[a.nr,e.qty,void 0,{number:!0}]])])]),(0,i._)("td",w,[e.final_total===e.total?((0,i.wg)(),(0,i.iD)("div",x," NT$ "+(0,l.zw)(t.$filters.currency(e.final_total)),1)):(0,i.kq)("",!0),e.final_total!==e.total?((0,i.wg)(),(0,i.iD)("div",C,[$,(0,i.Uk)(" NT$ "+(0,l.zw)(t.$filters.currency(e.final_total)),1)])):(0,i.kq)("",!0)])])))),128)):(0,i.kq)("",!0)]),(0,i._)("tfoot",null,[g.cart.final_total==g.cart.total?((0,i.wg)(),(0,i.iD)("tr",D,[(0,i._)("td",q," 總計：NT$ "+(0,l.zw)(t.$filters.currency(g.cart.total)),1)])):(0,i.kq)("",!0),g.cart.final_total!==g.cart.total?((0,i.wg)(),(0,i.iD)("tr",U,[(0,i._)("td",I,[(0,i._)("del",null,"總計：NT$ "+(0,l.zw)(t.$filters.currency(g.cart.total)),1)])])):(0,i.kq)("",!0),g.cart.final_total!==g.cart.total?((0,i.wg)(),(0,i.iD)("tr",z,[(0,i._)("td",L," 折扣價：NT$ "+(0,l.zw)(t.$filters.currency(g.cart.final_total)),1)])):(0,i.kq)("",!0)])]),0!==g.cart.total?((0,i.wg)(),(0,i.iD)("div",M,[(0,i.wy)((0,i._)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=t=>g.coupon_code=t),placeholder:"請輸入優惠碼"},null,512),[[a.nr,g.coupon_code]]),(0,i._)("div",N,[(0,i._)("button",{class:"btn btn-outline-secondary fw-bold btn-lg",type:"button",onClick:e[1]||(e[1]=(...t)=>Z.addCouponCode&&Z.addCouponCode(...t))}," 套用優惠碼 ")])])):(0,i.kq)("",!0),0!==g.cart.total?((0,i.wg)(),(0,i.iD)("div",T,[(0,i._)("button",{type:"button",class:"btn btn-primary btn-hover rounded-0 fw-bold btn-lg",onClick:e[2]||(e[2]=(...t)=>Z.goProducts&&Z.goProducts(...t))},j),(0,i._)("button",{type:"button",class:"btn btn-primary btn-hover rounded-0 fw-bold btn-lg",onClick:e[3]||(e[3]=(...t)=>Z.goCheckout&&Z.goCheckout(...t))},V)])):(0,i.kq)("",!0),0===g.cart.total?((0,i.wg)(),(0,i.iD)("div",S,[W,(0,i._)("button",{type:"button",class:"btn btn-dark btn-hover rounded-0 mt-5",onClick:e[4]||(e[4]=(...t)=>Z.goProducts&&Z.goProducts(...t))}," 查看產品 Go ")])):(0,i.kq)("",!0)])])]),(0,i.Wm)(F)],64)}var B=s(5820),E=s(7429),G={components:{UserFooter:E.Z},data(){return{products:[],product:{},status:{loadingItem:""},cart:{},coupon_code:""}},inject:["emitter"],methods:{goProducts(){this.$router.push("/products")},goCheckout(){this.$router.push("/checkout")},getCart(){const t="https://vue3-course-api.hexschool.io/api/kelvinlin9/cart";this.isLoading=!0,this.$http.get(t).then((t=>{console.log(t),this.cart=t.data.data,this.isLoading=!1}))},updateCart(t){const e=`https://vue3-course-api.hexschool.io/api/kelvinlin9/cart/${t.id}`;this.isLoading=!0,this.status.loadingItem=t.id;const s={product_id:t.product_id,qty:t.qty};this.$http.put(e,{data:s}).then((t=>{console.log(t),this.status.loadingItem="",this.getCart(),B.Z.emit("update-cart")}))},removeCartItem(t){this.status.loadingItem=t;const e=`https://vue3-course-api.hexschool.io/api/kelvinlin9/cart/${t}`;this.isLoading=!0,this.$http.delete(e).then((t=>{this.$httpMessageState(t,"移除購物車品項"),this.status.loadingItem="",this.getCart(),this.isLoading=!1,B.Z.emit("update-cart")}))},addCouponCode(){const t="https://vue3-course-api.hexschool.io/api/kelvinlin9/coupon",e={code:this.coupon_code};this.isLoading=!0,this.$http.post(t,{data:e}).then((t=>{console.log(t.data.message),this.$httpMessageState(t,"加入優惠券"),this.getCart(),this.isLoading=!1,this.coupon_code=""}))}},created(){this.getCart()}},K=s(89);const O=(0,K.Z)(G,[["render",Y],["__scopeId","data-v-7253444c"]]);var A=O}}]);
//# sourceMappingURL=274.336eddbe.js.map