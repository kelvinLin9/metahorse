"use strict";(self["webpackChunkhw1"]=self["webpackChunkhw1"]||[]).push([[760],{7429:function(t,e,i){i.d(e,{Z:function(){return I}});var s=i(3396),a=i(9242);const o=t=>((0,s.dD)("data-v-11da1bf7"),t=t(),(0,s.Cn)(),t),r={class:"footer bg-dark mt-3 py-4 mt-md-5"},l={class:"container-fluid"},c=o((()=>(0,s._)("ul",{class:"list-inline text-center"},[(0,s._)("li",{class:"list-inline-item text-light"}," © Copyright 2022 MetaHorse ")],-1))),n={class:"list-inline text-center"},d={class:"list-inline-item"},g=o((()=>(0,s._)("i",{class:"bi bi-facebook"},null,-1))),f=[g],p={class:"list-inline-item ms-2"},u=o((()=>(0,s._)("i",{class:"bi bi-messenger"},null,-1))),h=[u],v={class:"list-inline-item ms-2"},m=o((()=>(0,s._)("i",{class:"bi bi-instagram"},null,-1))),b=[m],_=o((()=>(0,s._)("li",{class:"list-inline-item ms-2"},[(0,s._)("a",{class:"text-light",href:"",target:"_blank"},[(0,s._)("i",{class:"bi bi-github"})])],-1))),y=o((()=>(0,s._)("ul",{class:"list-inline text-center"},[(0,s._)("li",{class:"list-inline-item text-light"}," 個人練習作品，非商業用途 ")],-1)));function k(t,e){return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",l,[c,(0,s._)("ul",n,[(0,s._)("li",d,[(0,s._)("a",{class:"text-light",href:"#",onClick:e[0]||(e[0]=(0,a.iM)((()=>{}),["prevent"]))},f)]),(0,s._)("li",p,[(0,s._)("a",{class:"text-light",href:"#",onClick:e[1]||(e[1]=(0,a.iM)((()=>{}),["prevent"]))},h)]),(0,s._)("li",v,[(0,s._)("a",{class:"text-light",href:"#",onClick:e[2]||(e[2]=(0,a.iM)((()=>{}),["prevent"]))},b)]),_]),y])])}var x=i(89);const C={},w=(0,x.Z)(C,[["render",k],["__scopeId","data-v-11da1bf7"]]);var I=w},7019:function(t,e,i){i.r(e),i.d(e,{default:function(){return N}});var s=i(3396),a=i(7139),o=i(9242);const r=t=>((0,s.dD)("data-v-05d81e62"),t=t(),(0,s.Cn)(),t),l=(0,s.uE)('<div class="productsBanner mb-5" data-v-05d81e62><div class="bg-dark bg-opacity-75 w-100 h-100 d-flex align-items-center" data-v-05d81e62><h1 class="w-100 d-flex align-items-center justify-content-center mb-0 mt-5" data-v-05d81e62><span class="me-2 fs-1 fw-bolder text-white" data-v-05d81e62>所有商品</span><span class="fs-3 text-primary align-self-end" data-v-05d81e62>/ All Products</span></h1></div></div>',1),c={class:"container"},n={class:"row"},d={class:"col-lg-3"},g=r((()=>(0,s._)("h2",{class:"fw-bold text-center f-kalam bg-primary"},"賽馬( Level )",-1))),f={class:"fw-bold list-group flex-row flex-lg-column"},p=r((()=>(0,s._)("hr",null,null,-1))),u=r((()=>(0,s._)("h2",{class:"fw-bold text-center f-kalam bg-primary"},"道具",-1))),h={class:"fw-bold list-group flex-row flex-lg-column"},v={class:"col-lg-9"},m={class:"row g-4"},b={class:"card rounded-3"},_={class:"card-img overflow-hidden position-relative cursorPointer"},y=["onClick"],k=["src"],x=["onClick"],C={class:"card-body d-flex flex-column justify-content-center text-center fw-bold"},w={class:"fs-4"},I={class:"fs-6 text-muted"},M={class:"fs-5"},S={class:"text-muted text-decoration-line-through fs-6 ms-1"},F=["disabled","onClick"],L={key:0,class:"spinner-grow text-danger spinner-grow-sm",role:"status"},O=r((()=>(0,s._)("span",{class:"visually-hidden"},"Loading...",-1))),A=[O],P=(0,s.Uk)(" 加到購物車 "),$=r((()=>(0,s._)("div",{class:"d-flex justify-content-center pb-2 fw-bold"},null,-1)));function B(t,e,i,r,O,B){const D=(0,s.up)("Loading"),U=(0,s.up)("UserFooter");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(D,{active:O.isLoading},null,8,["active"]),l,(0,s._)("div",c,[(0,s._)("div",n,[(0,s._)("div",d,[g,(0,s._)("div",f,[(0,s._)("a",{href:"#",class:(0,a.C_)(["list-group-item list-group-item-action border-0 f-kalam fs-5",{"text-primary":"all"==O.category,"fs-4":"all"==O.category}]),onClick:e[0]||(e[0]=(0,o.iM)((t=>O.category="all"),["prevent"]))},"- All",2),(0,s._)("a",{href:"#",class:(0,a.C_)(["list-group-item list-group-item-action border-0 f-kalam fs-5",{"text-primary":"S"==O.category,"fs-4":"S"==O.category}]),onClick:e[1]||(e[1]=(0,o.iM)((t=>O.category="S"),["prevent"]))},"- S",2),(0,s._)("a",{href:"#",class:(0,a.C_)(["list-group-item list-group-item-action border-0 f-kalam fs-5",{"text-primary":"A"==O.category,"fs-4":"A"==O.category}]),onClick:e[2]||(e[2]=(0,o.iM)((t=>O.category="A"),["prevent"]))},"- A",2),(0,s._)("a",{href:"#",class:(0,a.C_)(["list-group-item list-group-item-action border-0 f-kalam fs-5",{"text-primary":"B"==O.category,"fs-4":"B"==O.category}]),onClick:e[3]||(e[3]=(0,o.iM)((t=>O.category="B"),["prevent"]))},"- B",2),(0,s._)("a",{href:"#",class:(0,a.C_)(["list-group-item list-group-item-action border-0 f-kalam fs-5",{"text-primary":"C"==O.category,"fs-4":"C"==O.category}]),onClick:e[4]||(e[4]=(0,o.iM)((t=>O.category="C"),["prevent"]))},"- C",2)]),p,u,(0,s._)("div",h,[(0,s._)("a",{href:"#",class:(0,a.C_)(["list-group-item list-group-item-action border-0 f-kalam fs-5",{"text-primary":"馬鞍"==O.category,"fs-4":"馬鞍"==O.category}]),onClick:e[5]||(e[5]=(0,o.iM)((t=>O.category="馬鞍"),["prevent"]))},"- 馬鞍",2),(0,s._)("a",{href:"#",class:(0,a.C_)(["list-group-item list-group-item-action border-0 f-kalam fs-5",{"text-primary":"馬蹄鐵"==O.category,"fs-4":"馬蹄鐵"==O.category}]),onClick:e[6]||(e[6]=(0,o.iM)((t=>O.category="馬蹄鐵"),["prevent"]))},"- 馬蹄鐵",2),(0,s._)("a",{href:"#",class:(0,a.C_)(["list-group-item list-group-item-action border-0 f-kalam fs-5",{"text-primary":"馬飼料"==O.category,"fs-4":"馬飼料"==O.category}]),onClick:e[7]||(e[7]=(0,o.iM)((t=>O.category="馬飼料"),["prevent"]))},"- 馬飼料",2)])]),(0,s._)("div",v,[(0,s._)("div",m,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(B.filterProducts,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"col-lg-4 col-md-6 col-12",key:t.id},[(0,s._)("div",b,[(0,s._)("div",_,[(0,s._)("button",{class:"btn bg-dark fs-4 position-absolute text-white w-100 h-100 bg-opacity-75",type:"button",onClick:(0,o.iM)((e=>B.goProduct(t.id)),["prevent"])}," 詳細資訊 ",8,y),(0,s._)("img",{class:"rounded-3 img-fit",src:t.imageUrl,alt:"商品照片"},null,8,k),(0,s._)("span",{class:(0,a.C_)(["position-absolute rounded-circle fs-2 p-1 fav-icon bg-white text-center",{favorite:B.isFavorite(t.id)}]),onClick:(0,o.iM)((e=>B.toggleFavorite(t)),["stop"])},[(0,s._)("i",{class:(0,a.C_)(B.favState(t.id)),"data-bs-toggle":"tooltip","data-bs-placement":"top",title:"加入 / 移除我的最愛"},null,2)],10,x)]),(0,s._)("div",C,[(0,s._)("span",w,[(0,s.Uk)((0,a.zw)(t.title)+" ",1),(0,s._)("span",I,"（"+(0,a.zw)(t.category)+"）",1)]),(0,s._)("span",M,[(0,s.Uk)(" NT $"+(0,a.zw)(t.price)+" ",1),(0,s._)("span",S,"$"+(0,a.zw)(t.origin_price),1)]),(0,s._)("button",{type:"button",class:"btn btn-outline-primary text-dark fw-bold fs-5 mt-3",disabled:this.status.loadingItem===t.id,onClick:e=>B.addCart(t.id)},[this.status.loadingItem===t.id?((0,s.wg)(),(0,s.iD)("div",L,A)):(0,s.kq)("",!0),P],8,F)]),$])])))),128))])])])]),(0,s.Wm)(U)],64)}var D=i(5820),U=i(7429),Z={data(){return{products:[],pagination:{},favorite:[],favoriteIds:[],favIcons:[],category:"all",isLoading:!1,status:{loadingItem:""}}},components:{UserFooter:U.Z},inject:["emitter"],methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/kelvinlin9/products/all";this.isLoading=!0,this.$http.get(t).then((t=>{this.products=t.data.products,this.isLoading=!1}))},goProduct(t){console.log(t),this.$router.push(`/product/${t}`)},addCart(t){const e="https://vue3-course-api.hexschool.io/api/kelvinlin9/cart";this.status.loadingItem=t;const i={product_id:t,qty:1};this.$http.post(e,{data:i}).then((t=>{this.status.loadingItem="",console.log(t),this.getCart(),this.$httpMessageState(t,"加入購物車"),D.Z.emit("update-cart")}))},getCart(){const t="https://vue3-course-api.hexschool.io/api/kelvinlin9/cart";this.isLoading=!0,this.$http.get(t).then((t=>{console.log(t),this.cart=t.data.data,this.isLoading=!1}))},getFavorite(){this.favorite=JSON.parse(localStorage.getItem("favorite"))||[],this.favoriteIds=[],this.favorite.forEach((t=>{this.favoriteIds.push(t.id)}))},isFavorite(t){return this.favoriteIds.some((e=>e===t))},toggleFavorite(t){console.log("1.我的最愛列表",this.favorite),console.log("2.點到的是第幾筆資料",this.favorite.indexOf(t));const e=t.id;console.log("3.點擊到的id",e);const i=this.favorite.some((t=>t.id===e));if(console.log("4.點擊到的id是否在我的最愛列表",i),i){const i=this.favorite.find((t=>t.id===e));console.log("5.(刪除時)點到的是第幾筆資料",this.favorite.indexOf(t)),this.favorite.splice(this.favorite.indexOf(i),1),localStorage.setItem("favorite",JSON.stringify(this.favorite))}else this.favorite.push(t),localStorage.setItem("favorite",JSON.stringify(this.favorite));this.getFavorite(),console.log("更新後的我的最愛列表id",this.favoriteIds),D.Z.emit("update-favorite")}},computed:{favState(){return console.log(this.favoriteIds),function(t){return this.favoriteIds.indexOf(t)>-1?(console.log(this.favoriteIds.indexOf(t),t,typeof t),"bi bi-heart-fill"):(console.log(this.favoriteIds.indexOf(t),t,typeof t),"bi bi-heart")}},filterProducts(){let t;switch(this.category){case"all":t=this.products.filter((t=>t));break;case"S":t=this.products.filter((t=>"S"===t.category));break;case"A":t=this.products.filter((t=>"A"===t.category));break;case"B":t=this.products.filter((t=>"B"===t.category));break;case"C":t=this.products.filter((t=>"C"===t.category));break;case"馬鞍":t=this.products.filter((t=>"馬鞍"===t.description));break;case"馬蹄鐵":t=this.products.filter((t=>"馬蹄鐵"===t.description));break;case"馬飼料":t=this.products.filter((t=>"馬飼料"===t.description));break}return t}},created(){this.getProducts(),this.getFavorite()}},j=i(89);const z=(0,j.Z)(Z,[["render",B],["__scopeId","data-v-05d81e62"]]);var N=z}}]);
//# sourceMappingURL=760.fd8a6fb7.js.map