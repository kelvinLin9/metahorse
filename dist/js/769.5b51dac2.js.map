{"version":3,"file":"js/769.5b51dac2.js","mappings":"mHAEA,QAAeA,EAAAA,EAAAA,IAAY,gBAAiB,CAC1CC,MAAO,KAAM,CACXC,SAAU,GACVC,YAAa,GACbC,YAAa,EACbC,SAAU,KAEZC,QAAS,CACPC,YAAYF,GACVG,KAAKH,SAAWA,EAChBG,KAAKC,eAEPC,iBACEF,KAAKL,YAAcQ,KAAKC,MAAMC,aAAaC,QAAQ,iBAAmB,IAExEL,cACED,KAAKE,iBACLF,KAAKN,SAAW,GAChBM,KAAKH,SAASU,SAASC,IACjBR,KAAKL,YAAYc,QAAQD,EAAKE,KAAO,GACvCV,KAAKN,SAASiB,KAAKH,MAGvBR,KAAKJ,YAAcI,KAAKN,SAASkB,QAEnCC,eAAgBL,GACd,MAAMM,EAAUN,EACVO,EAAcf,KAAKL,YAAYqB,MAAMR,GAASA,IAASM,IAC7D,GAAKC,EAGE,CACL,MAAME,EAAUjB,KAAKL,YAAYuB,MAAMV,GAC9BA,IAASM,IAElBd,KAAKL,YAAYwB,OAAOnB,KAAKL,YAAYc,QAAQQ,GAAU,GAC3DZ,aAAae,QAAQ,cAAejB,KAAKkB,UAAUrB,KAAKL,mBAPxDK,KAAKL,YAAYgB,KAAKH,GACtBH,aAAae,QAAQ,cAAejB,KAAKkB,UAAUrB,KAAKL,cAQ1DK,KAAKC,eAEPqB,eAAgBd,GACdR,KAAKL,YAAYwB,OAAOnB,KAAKL,YAAYc,QAAQD,GAAO,GACxDH,aAAae,QAAQ,cAAejB,KAAKkB,UAAUrB,KAAKL,cACxDK,KAAKC,gBAGTsB,QAAS,CACPC,WACE,OAAQd,GACCV,KAAKL,YAAYc,QAAQC,IAAO,EAAI,mBAAqB,mB,uDC/CxE,MAAMe,GAAOC,EAAAA,EAAAA,KAIb,QAAelC,EAAAA,EAAAA,IAAY,UAAW,CACpCM,QAAS,CACP6B,SACEC,EAAAA,EAAAA,KAAY,SACZH,EAAKI,cAAe,GAEtBC,aACEF,EAAAA,EAAAA,KAAY,aACZH,EAAKI,cAAe,GAEtBE,UAAWrB,GACTkB,EAAAA,EAAAA,KAAa,YAAWlB,MAE1BsB,aACEJ,EAAAA,EAAAA,KAAY,kB,0ECdlB,MAAMK,GAASC,EAAAA,EAAAA,KACTxC,GAAWyC,EAAAA,EAAAA,KAEjB,QAAe3C,EAAAA,EAAAA,IAAY,eAAgB,CACzCC,MAAO,KAAM,CACXI,SAAU,GACVuC,QAAS,GACTC,YAAa,GACbC,aAAc,GACdC,KAAM,GACNC,SAAU,QAEZ1C,QAAS,CACP2C,cACE,MAAMC,EAAO,mEACbT,EAAOU,WAAY,EACnBC,IAAAA,IAAUF,GACPG,MAAMC,IAEL9C,KAAKH,SAAWiD,EAAIC,KAAKlD,SACzBG,KAAKqC,YAAcrC,KAAKH,SAASmD,QAAO,CAACxC,EAAMyC,IAAUA,EAAQ,KACjEvD,EAASK,YAAYC,KAAKH,UAE1BG,KAAKsC,aAAe,GACpBtC,KAAKsC,aAAa3B,KAAKmC,EAAIC,KAAKlD,SAAS,KACzCG,KAAKsC,aAAa3B,KAAKmC,EAAIC,KAAKlD,SAAS,KACzCG,KAAKsC,aAAa3B,KAAKmC,EAAIC,KAAKlD,SAAS,IACzCG,KAAKsC,aAAa3B,KAAKmC,EAAIC,KAAKlD,SAAS,IACzCG,KAAKuC,KAAOvC,KAAKsC,aAAa,GAC9BL,EAAOU,WAAY,KAEpBO,OAAOC,GAAQC,QAAQC,MAAMF,MAElCG,WAAY5C,GACV,MAAM6C,EAAO,+DAAoE7C,IACjFuB,EAAOU,WAAY,EACnBC,IAAAA,IAAUW,GAAKV,MAAMC,IACnBb,EAAOU,WAAY,EACfG,EAAIC,KAAKS,UACXxD,KAAKoC,QAAUU,EAAIC,KAAKX,QAExBpC,KAAKoC,QAAQqB,IAAM,OAMzBC,YAAaC,GACX3D,KAAKwC,SAAWmB,IAGpBpC,QAAS,CACPqC,iBACE,IAAIA,EACJ,OAAQ5D,KAAKwC,UACX,IAAK,MACHoB,EAAiB5D,KAAKH,SAASmD,QAAQxC,GAC9BA,IAET,MACF,IAAK,IACHoD,EAAiB5D,KAAKH,SAASmD,QAAQxC,GACZ,MAAlBA,EAAKgC,WAEd,MACF,IAAK,IACHoB,EAAiB5D,KAAKH,SAASmD,QAAQxC,GACZ,MAAlBA,EAAKgC,WAEd,MACF,IAAK,IACHoB,EAAiB5D,KAAKH,SAASmD,QAAQxC,GACZ,MAAlBA,EAAKgC,WAEd,MACF,IAAK,IACHoB,EAAiB5D,KAAKH,SAASmD,QAAQxC,GACZ,MAAlBA,EAAKgC,WAEd,MACF,IAAK,KACHoB,EAAiB5D,KAAKH,SAASmD,QAAQxC,GACT,OAArBA,EAAKqD,cAEd,MACF,IAAK,MACHD,EAAiB5D,KAAKH,SAASmD,QAAQxC,GACT,QAArBA,EAAKqD,cAEd,MACF,IAAK,MACHD,EAAiB5D,KAAKH,SAASmD,QAAQxC,GACT,QAArBA,EAAKqD,cAEd,MAEJ,OAAOD,O,mCCtGb,QAAepE,EAAAA,EAAAA,IAAY,cAAe,CACxCC,MAAO,KAAM,CACXkD,UAAW,GACXmB,gBAAiB,GACjBC,SAAU,KAEZjE,QAAS,CAGPkE,YAAalB,EAAKmB,EAAQ,MACxB,GAAY,OAARnB,GAAgBA,EAAIC,KAAKS,QAAS,CACpC,MAAMU,EAAM,CACVC,MAAO,UACPF,MAAQ,GAAEA,OAEZjE,KAAK+D,SAASpD,KAAKuD,OACd,CAEL,MAAME,EAAsC,kBAArBtB,EAAIC,KAAKqB,QAC5B,CAACtB,EAAIC,KAAKqB,SACVtB,EAAIC,KAAKqB,QACPF,EAAM,CACVC,MAAO,SACPF,MAAQ,GAAEA,MACVI,QAASD,EAAQE,KAAK,MAExBtE,KAAK+D,SAASpD,KAAKuD,S,gGC1BpBK,MAAM,mE,GAMNA,MAAM,yC,0OAPXC,EAAAA,EAAAA,IAAiCC,EAAA,CAApBC,IAAKC,EAAAA,OAAOC,QAEfD,EAAAA,YAAAA,EAAAA,EAAAA,OADVE,EAAAA,EAAAA,IAGM,MAHN,EAGM,EADJC,EAAAA,EAAAA,IAAcC,OAFhB,eAIoBC,EAAAA,cAApB,iBAAoBA,EAAAA,EAAAA,OAApBR,EAAAA,EAAAA,IAAoCS,EAAA,CAAAP,IAAAA,MACpCI,EAAAA,EAAAA,IAAgBI,IAChBC,EAAAA,EAAAA,GAEM,MAFN,EAEM,EADJL,EAAAA,EAAAA,IAAcM,MAEhBN,EAAAA,EAAAA,IAAaO,IAAb,I,kHCVKd,MAAM,mE,GACJA,MAAM,mB,ihBAgBJA,MAAM,gCAAgC7D,GAAG,sB,GACxC6D,MAAM,c,GACJA,MAAM,Y,WAEiD,M,GAEvDA,MAAM,Y,WAEsD,Q,GAE5DA,MAAM,Y,WAEwD,Q,GAE9DA,MAAM,Y,WAE6D,Q,GAEnEA,MAAM,8B,WAEkD,O,GAExDA,MAAM,8B,WAEsD,Q,GAK9DA,MAAM,4C,GACJA,MAAM,8B,UAINY,EAAAA,EAAAA,GAAkG,KAA/FZ,MAAM,wBAAwB,iBAAe,UAAU,oBAAkB,MAAMN,MAAM,OAAxF,W,SACKM,MAAM,yE,SASTA,MAAM,W,GACLA,MAAM,uB,GACFA,MAAM,kB,UACXY,EAAAA,EAAAA,GAOQ,SAPDZ,MAAM,cAAY,EACvBY,EAAAA,EAAAA,GAKK,MALDZ,MAAM,4BAA0B,EAClCY,EAAAA,EAAAA,GAAgC,MAA5BZ,MAAM,cAAa,SACvBY,EAAAA,EAAAA,GAAW,UAAP,OACJA,EAAAA,EAAAA,GAA4B,MAAxBZ,MAAM,YAAW,OACrBY,EAAAA,EAAAA,GAAS,UALb,K,GAWQZ,MAAM,e,GACNA,MAAM,Y,GACNA,MAAM,e,mCAINY,EAAAA,EAAAA,GAAuB,KAApBZ,MAAM,WAAS,W,GAAlBe,G,SAORf,MAAM,4B,GACLA,MAAM,8B,WAI+C,S,WAKE,S,GAK1DA,MAAM,8B,UAGNY,EAAAA,EAAAA,GAAqG,KAAlGZ,MAAM,0BAA0B,iBAAe,UAAU,oBAAkB,MAAMN,MAAM,QAA1F,W,SACKM,MAAM,yE,mIA3GvBM,EAAAA,EAAAA,IAoHM,MApHN,EAoHM,EAnHJM,EAAAA,EAAAA,GAkHM,MAlHN,EAkHM,CAjHJI,GAeAJ,EAAAA,EAAAA,GAiGM,MAjGN,EAiGM,EAhGJA,EAAAA,EAAAA,GAyBK,KAzBL,EAyBK,EAxBHA,EAAAA,EAAAA,GAGK,KAHL,EAGK,EAFJL,EAAAA,EAAAA,IACyEU,EAAA,CAD7DC,GAAG,IAAIlB,OAAK,SAAC,gBAAe,gBACG,SADH,KACRmB,OAAOC,SADvC,C,kBAC0D,IAAE,M,KAD5D,gBAGDR,EAAAA,EAAAA,GAGK,KAHL,EAGK,EAFHL,EAAAA,EAAAA,IACgFc,EAAA,CADnEH,GAAG,YAAYlB,OAAK,SAAC,gBAAe,gBACN,aADM,KACjBmB,OAAOC,SADvC,C,kBAC8D,IAAI,M,KADlE,gBAGFR,EAAAA,EAAAA,GAGK,KAHL,EAGK,EAFHL,EAAAA,EAAAA,IACkFc,EAAA,CADrEH,GAAG,cAAclB,OAAK,SAAC,gBAAe,gBACR,eADQ,KACnBmB,OAAOC,SADvC,C,kBACgE,IAAI,M,KADpE,gBAGFR,EAAAA,EAAAA,GAGK,KAHL,EAGK,EAFHL,EAAAA,EAAAA,IACuFc,EAAA,CAD1EH,GAAG,mBAAmBlB,OAAK,SAAC,gBAAe,gBACb,oBADa,KACxBmB,OAAOC,SADvC,C,kBACqE,IAAI,M,KADzE,gBAGFR,EAAAA,EAAAA,GAGK,KAHL,EAGK,EAFHL,EAAAA,EAAAA,IAC2Ec,EAAA,CAD9DH,GAAG,QAAQlB,OAAK,SAAC,gBAAe,gBACF,SADE,KACbmB,OAAOC,SADvC,C,kBAC0D,IAAG,M,KAD7D,gBAGFR,EAAAA,EAAAA,GAGK,KAHL,EAGK,EAFHL,EAAAA,EAAAA,IACgFc,EAAA,CADnEH,GAAG,YAAYlB,OAAK,SAAC,gBAAe,gBACN,aADM,KACjBmB,OAAOC,SADvC,C,kBAC8D,IAAI,M,KADlE,kBAMJR,EAAAA,EAAAA,GAmEK,KAnEL,EAmEK,EAlEHA,EAAAA,EAAAA,GAUK,KAVL,EAUK,EATHA,EAAAA,EAAAA,GAQM,OARDZ,OAAK,SAAC,gBAAe,gBACiB,SADjB,KACMmB,OAAOC,QACtCE,QAAK,8BAAUlB,EAAAA,eAAAA,EAAAA,iBAAAA,IAAa,eAF7B,CAGEmB,EAEmB,IAAPnB,EAAAA,UAAO,WADnBE,EAAAA,EAAAA,IAGM,MAHN,GAGMkB,EAAAA,EAAAA,IADDpB,EAAAA,SAAO,KAFZ,gBAJF,MAWFQ,EAAAA,EAAAA,GA0CM,OA1CDZ,OAAK,SAAC,6BAA4B,MACjBI,EAAAA,iBADtB,CAE4BA,EAAAA,QAAO,eAAjCE,EAAAA,EAAAA,IAA+C,KAA/C,EAAqC,WAArC,gBACAM,EAAAA,EAAAA,GAyBM,MAzBN,EAyBM,EAxBJA,EAAAA,EAAAA,GAuBQ,QAvBR,EAuBQ,CAtBNa,GAQAb,EAAAA,EAAAA,GAaQ,6BAZNN,EAAAA,EAAAA,IAWKoB,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAXmCvB,EAAAA,KAAKwB,OAAb3F,K,WAAhCqE,EAAAA,EAAAA,IAWK,MAXDN,MAAM,eAA2CG,IAAKlE,EAAKE,IAA/D,EACEyE,EAAAA,EAAAA,GAAiC,WAAAY,EAAAA,EAAAA,IAA1BvF,EAAK4B,QAAQ6B,OAAK,IACzBkB,EAAAA,EAAAA,GAA2C,KAA3C,GAA2CY,EAAAA,EAAAA,IAAhBvF,EAAKiD,KAAG,IACnC0B,EAAAA,EAAAA,GAAiE,KAAjE,EAAqB,QAAIY,EAAAA,EAAAA,IAAGpB,EAAAA,SAASyB,SAAS5F,EAAK6F,QAAK,IACxDlB,EAAAA,EAAAA,GAMK,KANL,EAMK,EALHA,EAAAA,EAAAA,GAIS,UAJDmB,KAAK,SAAS/B,MAAM,iCACvBgC,SAAU5B,EAAAA,kBAAoBnE,EAAKE,GACnCmF,QAAK,GAAElB,EAAAA,eAAenE,EAAKE,KAFhC,cALJ,YAe4C,GAAPiE,EAAAA,UAAO,WAAlDE,EAAAA,EAAAA,IAAwE,KAAxE,EAAyD,gBAAzD,gBACAM,EAAAA,EAAAA,GAWM,MAXN,EAWM,CARcR,EAAAA,QAAO,eAFzBH,EAAAA,EAAAA,IAIcoB,EAAA,C,MAJDH,GAAG,QAAQlB,MAAM,mCACjBsB,SAAK,QAAUlB,EAAAA,cAAa,cADzC,C,kBAGE,IAAsD,EAAtDG,EAAAA,EAAAA,IAAsD0B,EAAA,CAAnCC,KAAK,8BAA8B,K,KAHxD,6BAKAjC,EAAAA,EAAAA,IAIcoB,EAAA,C,MAJDH,GAAG,YAAYlB,MAAM,mCACrBsB,SAAK,QAAUlB,EAAAA,cAAa,cADzC,C,kBAGE,IAAwD,EAAxDG,EAAAA,EAAAA,IAAwD0B,EAAA,CAArCC,KAAK,gCAAgC,K,KAH1D,mBApCJ,IA4CAtB,EAAAA,EAAAA,GASK,KATL,EASK,EARHL,EAAAA,EAAAA,IAOaU,EAAA,CAPDC,GAAG,YAAYlB,OAAK,SAAC,gBAAe,gBACL,aADK,KAChBmB,OAAOC,SADvC,C,kBAEE,IAAqG,CAArGe,EAEuB,GAAX/B,EAAAA,cAAW,WADvBE,EAAAA,EAAAA,IAGM,MAHN,GAGMkB,EAAAA,EAAAA,IADDpB,EAAAA,aAAW,KAFhB,kB,KAHF,uB,+DAuBZ,IACEgC,SAAU,KACLC,EAAAA,EAAAA,IAASlF,EAAAA,EAAW,CAAC,OAAQ,UAAW,qBACxCkF,EAAAA,EAAAA,IAASzE,GAAAA,EAAe,CAAC,oBACzByE,EAAAA,EAAAA,IAAS1E,EAAAA,EAAa,CAAC,qBAE5B2E,QAAS,KACJC,EAAAA,EAAAA,IAAWpF,EAAAA,EAAW,CAAC,UAAW,iBAAkB,sBACpDoF,EAAAA,EAAAA,IAAWC,GAAAA,EAAS,CAAC,SAAU,iB,SCjItC,MAAMC,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,U,UCROzC,MAAM,sH,UAWFA,MAAM,yE,2GAXfM,EAAAA,EAAAA,IAgBM,MAhBN,GAgBM,EAPJC,EAAAA,EAAAA,IAMcc,EAAA,CANDH,GAAG,SAAO,C,kBACrB,IAA6E,EAA7EX,EAAAA,EAAAA,IAA6E0B,EAAA,CAA1DC,KAAK,4BAA4BlC,MAAM,mBAEzC,IAAPI,EAAAA,UAAO,WADjBE,EAAAA,EAAAA,IAGM,MAHN,IAGMkB,EAAAA,EAAAA,IADDpB,EAAAA,SAAO,KAFZ,kB,QAYN,QACEgC,SAAU,KACLC,EAAAA,EAAAA,IAASlF,EAAAA,EAAW,CAAC,aAE1BmF,QAAS,KACJC,EAAAA,EAAAA,IAAWC,GAAAA,EAAS,CAAC,aCtB5B,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,WJcA,IACEE,WAAY,CACVC,cADU,IAEVC,WAFU,GAGVC,UAHU,GAIVC,WAAUA,EAAAA,GAEZR,QAAS,KACJC,EAAAA,EAAAA,IAAWQ,GAAAA,EAAc,CAAC,oBAC1BR,EAAAA,EAAAA,IAAWpF,EAAAA,EAAW,CAAC,aAE5BiF,SAAU,KACLC,EAAAA,EAAAA,IAAS1E,EAAAA,EAAa,CAAC,cAC1BqF,eACE,MAAM5B,EAAO,CAAC,OAAQ,WAAY,cAAe,cACjD,QAAIA,EAAK6B,SAASxH,KAAK0F,OAAOC,QAIlC8B,UACEzH,KAAKyC,cACLzC,KAAK0H,YKrCT,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF","sources":["webpack://hw1/./src/stores/favoriteStore.js","webpack://hw1/./src/stores/goStore.js","webpack://hw1/./src/stores/productStore.js","webpack://hw1/./src/stores/statusStore.js","webpack://hw1/./src/views/UserDashboard.vue","webpack://hw1/./src/components/UserNavbar.vue","webpack://hw1/./src/components/UserNavbar.vue?53e3","webpack://hw1/./src/components/FloatCart.vue","webpack://hw1/./src/components/FloatCart.vue?cca2","webpack://hw1/./src/views/UserDashboard.vue?962f"],"sourcesContent":["import { defineStore } from 'pinia'// 起手式\r\n\r\nexport default defineStore('favoriteStore', {\r\n  state: () => ({\r\n    favorite: [],\r\n    favoriteIds: [],\r\n    favoriteNum: 0,\r\n    products: []\r\n  }),\r\n  actions: {\r\n    productsBus(products){\r\n      this.products = products\r\n      this.getFavorite ()\r\n    },\r\n    getFavoriteIds () {\r\n      this.favoriteIds = JSON.parse(localStorage.getItem('favoriteIds')) || []\r\n    },\r\n    getFavorite () {\r\n      this.getFavoriteIds()\r\n      this.favorite = []\r\n      this.products.forEach((item) => {\r\n        if (this.favoriteIds.indexOf(item.id) > -1) {\r\n          this.favorite.push(item)\r\n        }\r\n      })\r\n      this.favoriteNum = this.favorite.length\r\n    },\r\n    toggleFavorite (item) {\r\n      const clickId = item\r\n      const hasFavorite = this.favoriteIds.some((item) => item === clickId) // v-on 所以只判斷點擊的那一次\r\n      if (!hasFavorite) {\r\n        this.favoriteIds.push(item)\r\n        localStorage.setItem('favoriteIds', JSON.stringify(this.favoriteIds))\r\n      } else {\r\n        const delItem = this.favoriteIds.find((item) => {\r\n          return item === clickId\r\n        })\r\n        this.favoriteIds.splice(this.favoriteIds.indexOf(delItem), 1)\r\n        localStorage.setItem('favoriteIds', JSON.stringify(this.favoriteIds))\r\n      }\r\n      this.getFavorite()\r\n    },\r\n    removeFavorite (item) {\r\n      this.favoriteIds.splice(this.favoriteIds.indexOf(item), 1)\r\n      localStorage.setItem('favoriteIds', JSON.stringify(this.favoriteIds))\r\n      this.getFavorite()\r\n    }\r\n  },\r\n  getters: {\r\n    favState () {\r\n      return (id) => {\r\n        return this.favoriteIds.indexOf(id) > -1 ? 'bi bi-heart-fill' : 'bi bi-heart'\r\n      }\r\n    }\r\n  }\r\n})\r\n","import router from '../router'\r\nimport { defineStore } from 'pinia'// 起手式\r\nimport cartStore from './cartStore'\r\n\r\nconst cart = cartStore()\r\n// 所有資料帶出來存到cart\r\n// 把原本this改成cart\r\n\r\nexport default defineStore('goStore', {\r\n  actions: {\r\n    goCart () {\r\n      router.push('/cart')\r\n      cart.cartBoxState = false\r\n    },\r\n    goProducts () {\r\n      router.push('/products')\r\n      cart.cartBoxState = false\r\n    },\r\n    goProduct (id) {\r\n      router.push(`/product/${id}`)\r\n    },\r\n    goCheckout () {\r\n      router.push('/checkout')\r\n    }\r\n  }\r\n})\r\n","import axios from 'axios'\r\n// 起手式\r\nimport { defineStore } from 'pinia'\r\nimport statusStore from './statusStore'\r\nimport favoriteStore from './favoriteStore'\r\n\r\n// 所有資料帶出來存到status\r\n// 把原本this改成status\r\nconst status = statusStore()\r\nconst favorite = favoriteStore()\r\n\r\nexport default defineStore('productStore', {\r\n  state: () => ({\r\n    products: [],\r\n    product: {},\r\n    productsHot: [],\r\n    productsGame: [],\r\n    temp: {}, // 暫存點擊到的賽馬資訊\r\n    category: 'all'\r\n  }),\r\n  actions: {\r\n    getProducts () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\r\n      status.isLoading = true\r\n      axios.get(url)\r\n        .then((res) => {\r\n          // console.log(\"GETP!!!!!!!!!!!!!!!!\")\r\n          this.products = res.data.products\r\n          this.productsHot = this.products.filter((item, index) => index > 14) // 先取幾個來試用\r\n          favorite.productsBus(this.products)\r\n          // 手動挑出想展示的商品(首頁用)\r\n          this.productsGame = []\r\n          this.productsGame.push(res.data.products[11])\r\n          this.productsGame.push(res.data.products[10])\r\n          this.productsGame.push(res.data.products[8])\r\n          this.productsGame.push(res.data.products[5])\r\n          this.temp = this.productsGame[0]\r\n          status.isLoading = false\r\n        })\r\n        .catch((err) => console.error(err))\r\n    },\r\n    getProduct (id) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${id}`\r\n      status.isLoading = true\r\n      axios.get(api).then((res) => {\r\n        status.isLoading = false\r\n        if (res.data.success) {\r\n          this.product = res.data.product\r\n          // 自己補上後端沒有的預設值\r\n          this.product.qty = 1\r\n        }\r\n      })\r\n    },\r\n    // 無法雙向綁定的另種解法\r\n    // 創一個新的函數傳遞category\r\n    setCategory (i) {\r\n      this.category = i\r\n    }\r\n  },\r\n  getters: {\r\n    filterProducts () {\r\n      let filterProducts\r\n      switch (this.category) {\r\n        case 'all':\r\n          filterProducts = this.products.filter((item) => {\r\n            return item\r\n          })\r\n          break\r\n        case 'S':\r\n          filterProducts = this.products.filter((item) => {\r\n            return item.category === 'S'\r\n          })\r\n          break\r\n        case 'A':\r\n          filterProducts = this.products.filter((item) => {\r\n            return item.category === 'A'\r\n          })\r\n          break\r\n        case 'B':\r\n          filterProducts = this.products.filter((item) => {\r\n            return item.category === 'B'\r\n          })\r\n          break\r\n        case 'C':\r\n          filterProducts = this.products.filter((item) => {\r\n            return item.category === 'C'\r\n          })\r\n          break\r\n        case '馬鞍':\r\n          filterProducts = this.products.filter((item) => {\r\n            return item.description === '馬鞍'\r\n          })\r\n          break\r\n        case '馬蹄鐵':\r\n          filterProducts = this.products.filter((item) => {\r\n            return item.description === '馬蹄鐵'\r\n          })\r\n          break\r\n        case '馬飼料':\r\n          filterProducts = this.products.filter((item) => {\r\n            return item.description === '馬飼料'\r\n          })\r\n          break\r\n      }\r\n      return filterProducts\r\n    }\r\n  }\r\n})\r\n","import { defineStore } from 'pinia'\r\n\r\nexport default defineStore('statusStore', {\r\n  state: () => ({\r\n    isLoading: [],\r\n    cartLoadingItem: '',\r\n    messages: []\r\n  }),\r\n  actions: {\r\n    // 傳到ToastMessages.vue\r\n    // 抽獎頁面的提示合併過來一起用\r\n    PushManager (res, title = '更新') {\r\n      if (res === '抽獎' || res.data.success) {\r\n        const obj = {\r\n          style: 'success',\r\n          title: `${title}成功`\r\n        }\r\n        this.messages.push(obj)\r\n      } else {\r\n        // 有些訊息是字串，有些則是陣列，統一格式\r\n        const message = typeof res.data.message === 'string'\r\n          ? [res.data.message]\r\n          : res.data.message\r\n        const obj = {\r\n          style: 'danger',\r\n          title: `${title}失敗`,\r\n          content: message.join('、')\r\n        }\r\n        this.messages.push(obj)\r\n      }\r\n    }\r\n  }\r\n})\r\n","<template>\r\n  <UserNavbar :key=\"$route.path\" />\r\n  <div class=\"user-loading position-absolute top-50 start-50 translate-middle\"\r\n      v-if=\"isLoading\">\r\n    <UserLoading/>\r\n  </div>\r\n  <FloatCart v-if = \"!hasFloatCart\" />\r\n  <ToastMessages/>\r\n  <div class=\"position-relative min-height milkyWay\">\r\n    <router-view/>\r\n  </div>\r\n  <UserFooter/>\r\n</template>\r\n\r\n<script>\r\nimport UserFooter from '@/components/UserFooter.vue'\r\nimport ToastMessages from '@/components/ToastMessages.vue'\r\nimport UserNavbar from '../components/UserNavbar.vue'\r\nimport FloatCart from '@/components/FloatCart.vue'\r\nimport { mapActions, mapState } from 'pinia'\r\nimport productStore from '@/stores/productStore'\r\nimport cartStore from '@/stores/cartStore'\r\nimport statusStore from '@/stores/statusStore'\r\nexport default {\r\n  components: {\r\n    ToastMessages,\r\n    UserNavbar,\r\n    FloatCart,\r\n    UserFooter\r\n  },\r\n  methods: {\r\n    ...mapActions(productStore, ['getProducts']),\r\n    ...mapActions(cartStore, ['getCart'])\r\n  },\r\n  computed: {\r\n    ...mapState(statusStore, ['isLoading']),\r\n    hasFloatCart () {\r\n      const name = ['cart', 'checkout', 'checkoutPay', 'adminLogin']\r\n      if (name.includes(this.$route.name)) return true\r\n      return false\r\n    }\r\n  },\r\n  created () {\r\n    this.getProducts()\r\n    this.getCart()\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n@import url('https://fonts.googleapis.com/css2?family=Kalam:wght@700&display=swap');\r\n.user-loading {\r\n  z-index: 1000;\r\n}\r\n.min-height {\r\n   min-height: calc(100vh - 60px - 130px);\r\n}\r\n</style>\r\n","<template>\r\n  <nav class=\"navbar sticky-top navbar-expand-lg navbar-dark bg-dark no-print\">\r\n    <div class=\"container-fluid\">\r\n      <a class=\"navbar-brand\" href=\"#\">\r\n        <span class=\"text-warning f-kalam fs-2 text-center\">MetaHorse</span>\r\n        <img src=\"https://i.imgur.com/61qkafr.jpg\" alt=\"logo\" width=\"50\" class=\"logo\">\r\n      </a>\r\n      <!-- 漢堡選單按鈕 -->\r\n      <button\r\n        class=\"navbar-toggler\"\r\n        type=\"button\"\r\n        data-bs-toggle=\"collapse\"\r\n        data-bs-target=\"#navbarNavAltMarkup\"\r\n        aria-controls=\"navbarNavAltMarkup\"\r\n        aria-expanded=\"false\"\r\n        aria-label=\"Toggle navigation\">\r\n        <span class=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n      <div class=\"collapse navbar-collapse ms-5\" id=\"navbarNavAltMarkup\">\r\n        <ul class=\"navbar-nav\">\r\n          <li class=\"nav-item\">\r\n           <RouterLink to=\"/\" class=\"nav-link fs-5\"\r\n           :class=\"{ 'text-warning':  this.$route.name === 'home' }\">首頁</RouterLink>\r\n          </li>\r\n          <li class=\"nav-item\">\r\n            <router-link to=\"/products\" class=\"nav-link fs-5\"\r\n            :class=\"{ 'text-warning':  this.$route.name === 'products' }\">產品列表</router-link>\r\n          </li>\r\n          <li class=\"nav-item\">\r\n            <router-link to=\"/UserCoupon\" class=\"nav-link fs-5\"\r\n            :class=\"{ 'text-warning':  this.$route.name === 'UserCoupon' }\">優惠活動</router-link>\r\n          </li>\r\n          <li class=\"nav-item\">\r\n            <router-link to=\"/UserSearchOrder\" class=\"nav-link fs-5\"\r\n            :class=\"{ 'text-warning':  this.$route.name === 'UserSearchOrder' }\">訂單查詢</router-link>\r\n          </li>\r\n          <li class=\"nav-item d-block d-lg-none\">\r\n            <router-link to=\"/cart\" class=\"nav-link fs-5\"\r\n            :class=\"{ 'text-warning':  this.$route.name === 'cart' }\">購物車</router-link>\r\n          </li>\r\n          <li class=\"nav-item d-block d-lg-none\">\r\n            <router-link to=\"/favorite\" class=\"nav-link fs-5\"\r\n            :class=\"{ 'text-warning':  this.$route.name === 'favorite' }\">我的最愛</router-link>\r\n          </li>\r\n        </ul>\r\n\r\n        <!-- 購物車、最愛、使用者介面改成靠右圖示 -->\r\n        <ul class=\"navbar-nav d-none d-lg-flex ms-auto me-2\">\r\n          <li class=\"nav-item position-relative\">\r\n            <div class=\"nav-link px-3\"\r\n            :class=\"{ 'text-warning':  this.$route.name === 'cart' }\"\r\n            @click.prevent=\"cartBoxToggle\">\r\n              <i class=\"bi bi-cart3 fs-4 cart\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"購物車\"></i>\r\n              <div class=\"bg-danger text-white rounded-circle text-center position-absolute num\"\r\n                    v-if=\"cartNum !== 0\">\r\n                {{ cartNum }}\r\n              </div>\r\n            </div>\r\n          </li>\r\n          <!-- 購物車小視窗 -->\r\n          <div class=\"dropdown-menu cart-box p-3\"\r\n              :class=\"{ 'show': cartBoxState }\">\r\n            <h5 class=\"fw-bold\" v-if=\"cartNum>0\">已選購商品</h5>\r\n            <div class=\"table-responsive-md\">\r\n              <table class=\"table table-sm\">\r\n                <thead class=\"table-dark\">\r\n                  <tr class=\"table-nowrap text-center\">\r\n                    <th class=\"text-start\">商品名稱</th>\r\n                    <th>數量</th>\r\n                    <th class=\"text-end\">價格</th>\r\n                    <th></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr class=\"table-nowrap\" v-for=\"item in cart.carts\" :key=\"item.id\">\r\n                    <td>{{ item.product.title }}</td>\r\n                    <td class=\"text-center\">{{ item.qty }}</td>\r\n                    <td class=\"text-end\">NT$ {{ $filters.currency(item.total) }}</td>\r\n                    <td class=\"text-center\">\r\n                      <button type=\"button\" class=\"btn btn-outline-primary btn-sm\"\r\n                          :disabled=\"cartLoadingItem === item.id\"\r\n                          @click=\"removeCartItem(item.id)\">\r\n                        <i class=\"bi bi-x\"></i>\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <h5 class=\"fw-bold text-center mb-3\" v-if=\"cartNum == 0\">產品尚未加入購物車!</h5>\r\n            <div class=\"d-flex justify-content-end\">\r\n              <router-link to=\"/cart\" class=\"btn btn-dark btn-hover rounded-0\"\r\n                          @click.prevent=\"cartBoxToggle\"\r\n                          v-if=\"cartNum > 0\">\r\n                <font-awesome-icon icon=\"fa-solid fa-cash-register\" /> 結帳去\r\n              </router-link>\r\n              <router-link to=\"/products\" class=\"btn btn-dark btn-hover rounded-0\"\r\n                          @click.prevent=\"cartBoxToggle\"\r\n                          v-else>\r\n                <font-awesome-icon icon=\"fa-solid fa-basket-shopping\" /> 選購去\r\n              </router-link>\r\n            </div>\r\n          </div>\r\n\r\n          <li class=\"nav-item position-relative\">\r\n            <RouterLink to=\"/Favorite\" class=\"nav-link px-3\"\r\n            :class=\"{ 'text-warning':  this.$route.name === 'favorite' }\">\r\n              <i class=\"bi bi-search-heart fs-4\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"我的最愛\"></i>\r\n              <div class=\"bg-danger text-white rounded-circle text-center position-absolute num\"\r\n                    v-if=\"favoriteNum != 0\">\r\n                {{ favoriteNum }}\r\n              </div>\r\n            </RouterLink>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\n// 響應式行為會使用到折疊的 JavaScript 插件\r\nimport 'bootstrap/js/dist/collapse'\r\nimport { mapState, mapActions } from 'pinia'\r\nimport cartStore from '@/stores/cartStore'\r\nimport statusStore from '@/stores/statusStore'\r\nimport favoriteStore from '@/stores/favoriteStore'\r\nimport goStore from '@/stores/goStore'\r\nexport default {\r\n  computed: {\r\n    ...mapState(cartStore, ['cart', 'cartNum', 'cartBoxState']),\r\n    ...mapState(favoriteStore, ['favoriteNum']),\r\n    ...mapState(statusStore, ['cartLoadingItem'])\r\n  },\r\n  methods: {\r\n    ...mapActions(cartStore, ['getCart', 'removeCartItem', 'cartBoxToggle']),\r\n    ...mapActions(goStore, ['goCart', 'goProducts'])\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.num {\r\n  width:20px;\r\n  top: 5px;\r\n  right: 5px;\r\n  font-size: 12px;\r\n}\r\n/* 小購物車框 */\r\n.cart-box{\r\n  min-width: 450px;\r\n  position: absolute;\r\n  right: 1px;\r\n  top: 60px;\r\n}\r\n.logo {\r\n  position: absolute;\r\n  left: 165px;\r\n  top: 10px;\r\n  @media (max-width: 768px) {\r\n   left: 145px;\r\n  }\r\n  @media (max-width: 576px) {\r\n   left: 137px;\r\n  }\r\n  @media (max-width: 414px) {\r\n   left: 130px;\r\n  }\r\n}\r\n\r\n</style>","import { render } from \"./UserNavbar.vue?vue&type=template&id=06d77e3f&scoped=true\"\nimport script from \"./UserNavbar.vue?vue&type=script&lang=js\"\nexport * from \"./UserNavbar.vue?vue&type=script&lang=js\"\n\nimport \"./UserNavbar.vue?vue&type=style&index=0&id=06d77e3f&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\HW1\\\\metahorse\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-06d77e3f\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"rounded-circle bg-white border border-3 border-warning d-flex justify-content-center align-items-center float-cart\">\r\n    <!-- <a href=\"#\"\r\n       @click.prevent=\"goCart\">\r\n      <font-awesome-icon icon=\"fa-solid fa-cart-shopping\" class=\"text-dark fs-1\" />\r\n      <div class=\"bg-danger text-white rounded-circle text-center position-absolute num\"\r\n          v-if=\"cartNum !== 0\">\r\n        {{ cartNum }}\r\n      </div>\r\n    </a> -->\r\n    <router-link to=\"/cart\">\r\n      <font-awesome-icon icon=\"fa-solid fa-cart-shopping\" class=\"text-dark fs-1\" />\r\n      <div class=\"bg-danger text-white rounded-circle text-center position-absolute num\"\r\n          v-if=\"cartNum !== 0\">\r\n        {{ cartNum }}\r\n      </div>\r\n    </router-link>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from 'pinia'\r\nimport cartStore from '@/stores/cartStore'\r\nimport goStore from '@/stores/goStore'\r\nexport default {\r\n  computed: {\r\n    ...mapState(cartStore, ['cartNum'])\r\n  },\r\n  methods: {\r\n    ...mapActions(goStore, ['goCart'])\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.test {\r\n  outline: 3px solid red;\r\n}\r\n.num{\r\n  width:30px;\r\n  height: 30px;\r\n  top: -10px;\r\n  right: -10px;\r\n  font-size: 18px;\r\n}\r\n.float-cart{\r\n  position: fixed;\r\n  display: none !important;\r\n  width: 65px;\r\n  height: 65px;\r\n  right: 30px;\r\n  bottom: 100px;\r\n  z-index: 99;\r\n}\r\n@media (max-width: 992px) {\r\n  .float-cart{\r\n    display:flex !important;\r\n    z-index: 200;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./FloatCart.vue?vue&type=template&id=81f1fe7a&scoped=true\"\nimport script from \"./FloatCart.vue?vue&type=script&lang=js\"\nexport * from \"./FloatCart.vue?vue&type=script&lang=js\"\n\nimport \"./FloatCart.vue?vue&type=style&index=0&id=81f1fe7a&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\HW1\\\\metahorse\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-81f1fe7a\"]])\n\nexport default __exports__","import { render } from \"./UserDashboard.vue?vue&type=template&id=12455d48&scoped=true\"\nimport script from \"./UserDashboard.vue?vue&type=script&lang=js\"\nexport * from \"./UserDashboard.vue?vue&type=script&lang=js\"\n\nimport \"./UserDashboard.vue?vue&type=style&index=0&id=12455d48&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\HW1\\\\metahorse\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-12455d48\"]])\n\nexport default __exports__"],"names":["defineStore","state","favorite","favoriteIds","favoriteNum","products","actions","productsBus","this","getFavorite","getFavoriteIds","JSON","parse","localStorage","getItem","forEach","item","indexOf","id","push","length","toggleFavorite","clickId","hasFavorite","some","delItem","find","splice","setItem","stringify","removeFavorite","getters","favState","cart","cartStore","goCart","router","cartBoxState","goProducts","goProduct","goCheckout","status","statusStore","favoriteStore","product","productsHot","productsGame","temp","category","getProducts","url","isLoading","axios","then","res","data","filter","index","catch","err","console","error","getProduct","api","success","qty","setCategory","i","filterProducts","description","cartLoadingItem","messages","PushManager","title","obj","style","message","content","join","class","_createBlock","_component_UserNavbar","key","_ctx","path","_createElementBlock","_createVNode","_component_UserLoading","$options","_component_FloatCart","_component_ToastMessages","_createElementVNode","_component_router_view","_component_UserFooter","_hoisted_31","_hoisted_3","_component_RouterLink","to","$route","name","_component_router_link","onClick","_hoisted_21","_toDisplayString","_hoisted_26","_Fragment","_renderList","carts","currency","total","type","disabled","_component_font_awesome_icon","icon","_hoisted_38","computed","mapState","methods","mapActions","goStore","__exports__","components","ToastMessages","UserNavbar","FloatCart","UserFooter","productStore","hasFloatCart","includes","created","getCart","render"],"sourceRoot":""}