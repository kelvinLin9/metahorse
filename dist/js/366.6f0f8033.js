"use strict";(self["webpackChunkhw1"]=self["webpackChunkhw1"]||[]).push([[366],{4371:function(e,t,s){var l=s(4301),a=s(6294);const n=(0,a.Z)();t["Z"]=(0,l.Q_)("copyStore",{actions:{copyCode(e){navigator.clipboard.writeText(e).then((()=>{n.PushManager("抽獎","複製折扣碼")}))},copyCodeOld(e){const t=document.getElementById(e),s=window.getSelection();s.removeAllRanges();const l=document.createRange();l.selectNodeContents(t),s.addRange(l),document.execCommand("copy")}}})},6294:function(e,t,s){var l=s(4301);t["Z"]=(0,l.Q_)("statusStore",{state:()=>({isLoading:[],cartLoadingItem:"",messages:[]}),actions:{PushManager(e,t="更新"){if("抽獎"==e||e.data.success){const e={style:"success",title:`${t}成功`};this.messages.push(e)}else{const s="string"===typeof e.data.message?[e.data.message]:e.data.message,l={style:"danger",title:`${t}失敗`,content:s.join("、")};this.messages.push(l)}}}})},3521:function(e,t,s){s.d(t,{Z:function(){return O}});var l=s(3396),a=s(7139);const n=e=>((0,l.dD)("data-v-34208a7e"),e=e(),(0,l.Cn)(),e),o={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static",ref:"modal"},r={class:"modal-dialog modal-dialog-centered modal-fullscreen"},d={class:"modal-content"},i={class:"modal-header"},c={class:"modal-title",id:"exampleModalLabel"},u=(0,l.Uk)("點選賽馬開始遊戲 / "),h={key:0},p=(0,l.Uk)(" 您選擇的是 "),_={class:"fs-1"},m=(0,l.Uk)(" 號 "),f={class:"modal-body"},y={class:"container-fluid"},v=["onClickOnce"],b={class:"fs-6"},w=n((()=>(0,l._)("div",{class:"fs-6"},null,-1))),k=n((()=>(0,l._)("span",{class:"start"},null,-1))),g=n((()=>(0,l._)("span",{class:"end"},null,-1)));function x(e,t,s,n,x,$){const C=(0,l.up)("font-awesome-icon");return(0,l.wg)(),(0,l.iD)("div",o,[(0,l._)("div",r,[(0,l._)("div",d,[(0,l._)("div",i,[(0,l._)("h5",c,[u,x.horse.id?((0,l.wg)(),(0,l.iD)("span",h,[p,(0,l._)("span",_,(0,a.zw)(x.horse.id),1),m])):(0,l.kq)("",!0)])]),(0,l._)("div",f,[(0,l._)("div",y,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(x.horses,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id,onClickOnce:t=>$.selectHorse(e),class:(0,a.C_)(["horse d-flex",[e.color,e.speed,`top-${e.id}`,{"animation-start":x.isPlay},{"selected-horse":x.horse.id===e.id}]]),disabled:!0},[(0,l._)("div",b,(0,a.zw)(e.id),1),(0,l._)("div",null,[(0,l.Wm)(C,{icon:"fa-solid fa-horse"})]),w],42,v)))),128)),k,g])])])])],512)}var $=s(1339),C={data(){return{modal:{},horses:[{color:"text-primary",speed:"linear",id:1},{color:"text-secondary",speed:"ease",id:2},{color:"text-success",speed:"ease-in",id:3},{color:"text-danger",speed:"ease-out",id:4},{color:"",speed:"super",id:5}],horse:{},rank:["super","ease","ease-out","linear","ease-in"],yourRank:0,gift:["S級賽馬","A級賽馬","B級賽馬","C級賽馬","馬鞍"],isPlay:!1,horsesPosition:0,window:0}},mixins:[$.Z],methods:{shuffleArray(e){e.sort((()=>Math.random()-.5))},selectHorse(e){this.isPlay||(this.horse={...e},this.play())},getRank(){this.isPlay=!1,this.$swal.fire({title:`恭喜獲得第${this.yourRank}名 <br>${this.gift[this.yourRank-1]} x 1`,text:"獎品將會在和商品一併寄出",icon:"success",allowOutsideClick:!1,confirmButtonText:"回首頁"}).then((e=>{this.hideModal(),this.$router.push("/")}))},play(){this.isPlay=!0,this.yourRank=this.rank.indexOf(this.horse.speed)+1,setTimeout(this.getRank,5e3)}},created(){const e=[...this.rank];this.shuffleArray(e),this.horses.forEach(((t,s)=>{t.speed=e[s]}))}},M=s(89);const D=(0,M.Z)(C,[["render",x],["__scopeId","data-v-34208a7e"]]);var O=D},9667:function(e,t,s){s.d(t,{Z:function(){return q}});var l=s(3396),a=s(7139);const n=e=>((0,l.dD)("data-v-39b19a12"),e=e(),(0,l.Cn)(),e),o={class:"container py-4 checkout-bar w-75 no-print"},r={class:"row fs-5 fs-md-3 fw-bold"},d={key:0,style:{color:"#f4696b"},class:"la-ball-climbing-dot la-dark"},i=n((()=>(0,l._)("div",null,null,-1))),c=n((()=>(0,l._)("div",null,null,-1))),u=n((()=>(0,l._)("div",null,null,-1))),h=n((()=>(0,l._)("div",null,null,-1))),p=[i,c,u,h],_=(0,l.Uk)(" 購物"),m=n((()=>(0,l._)("br",{class:"d-block d-sm-none"},null,-1))),f=(0,l.Uk)("車 "),y={key:1,style:{color:"#f4696b"},class:"la-ball-climbing-dot la-dark"},v=n((()=>(0,l._)("div",null,null,-1))),b=n((()=>(0,l._)("div",null,null,-1))),w=n((()=>(0,l._)("div",null,null,-1))),k=n((()=>(0,l._)("div",null,null,-1))),g=[v,b,w,k],x=(0,l.Uk)(" 填寫"),$=n((()=>(0,l._)("br",{class:"d-block d-sm-none"},null,-1))),C=(0,l.Uk)("訂單 "),M={key:2,style:{color:"#f4696b"},class:"la-ball-climbing-dot la-dark"},D=n((()=>(0,l._)("div",null,null,-1))),O=n((()=>(0,l._)("div",null,null,-1))),z=n((()=>(0,l._)("div",null,null,-1))),Z=n((()=>(0,l._)("div",null,null,-1))),I=[D,O,z,Z],U=(0,l.Uk)(" 確認"),P=n((()=>(0,l._)("br",{class:"d-block d-sm-none"},null,-1))),R=(0,l.Uk)("付款 ");function W(e,t){const s=(0,l.up)("font-awesome-icon");return(0,l.wg)(),(0,l.iD)("div",o,[(0,l._)("div",r,["cart"===this.$route.name?((0,l.wg)(),(0,l.iD)("div",d,p)):(0,l.kq)("",!0),(0,l._)("div",{class:(0,a.C_)(["col d-flex flex-column px-2 py-3 align-items-center rounded-pill",{"bg-primary":"cart"===this.$route.name}])},[(0,l.Wm)(s,{icon:"fa-solid fa-1"}),_,m,f],2),"checkout"===this.$route.name?((0,l.wg)(),(0,l.iD)("div",y,g)):(0,l.kq)("",!0),(0,l._)("div",{class:(0,a.C_)(["col d-flex flex-column mx-2 py-3 align-items-center rounded-pill",{"bg-primary":"checkout"===this.$route.name}])},[(0,l.Wm)(s,{icon:"fa-solid fa-2"}),x,$,C],2),"checkoutPay"===this.$route.name?((0,l.wg)(),(0,l.iD)("div",M,I)):(0,l.kq)("",!0),(0,l._)("div",{class:(0,a.C_)(["col d-flex flex-column mx-2 py-3 align-items-center rounded-pill",{"bg-primary":"checkoutPay"===this.$route.name}])},[(0,l.Wm)(s,{icon:"fa-solid fa-3"}),U,P,R],2)])])}var B=s(89);const T={},A=(0,B.Z)(T,[["render",W],["__scopeId","data-v-39b19a12"]]);var q=A},366:function(e,t,s){s.r(t),s.d(t,{default:function(){return W}});var l=s(3396),a=s(9242),n=s(7139);const o={class:"container"},r={class:"py-5 row justify-content-center"},d=(0,l._)("h1",{class:"fs-2 text-center fw-bold"},"購物明細",-1),i={class:"table align-middle"},c=(0,l._)("thead",{class:"table-primary"},[(0,l._)("th",null,"品名"),(0,l._)("th",null,"數量"),(0,l._)("th",{class:"text-end"},"小計")],-1),u={class:"text-end"},h={colspan:"3",class:"text-end fs-4"},p={class:"card"},_=(0,l._)("h5",{class:"card-header"},"訂單編號 :",-1),m={class:"card-body"},f={class:"card-text",id:"orderId"},y={class:"table"},v=(0,l._)("th",{width:"100",class:"fw-bold"},"訂購日期 :",-1),b=(0,l._)("th",{width:"100"},"Email",-1),w=(0,l._)("th",null,"姓名",-1),k=(0,l._)("th",null,"收件人電話",-1),g=(0,l._)("th",null,"收件人地址",-1),x=(0,l._)("th",null,"付款狀態",-1),$={key:0},C={key:1,class:"text-success"},M={class:"px-3 py-2 d-flex justify-content-between"};function D(e,t,s,D,O,z){const Z=(0,l.up)("UserCheckoutBar"),I=(0,l.up)("GameModal");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(Z),(0,l._)("div",o,[(0,l._)("div",r,[d,(0,l._)("form",{class:"col-10",onSubmit:t[3]||(t[3]=(0,a.iM)(((...e)=>z.payOrder&&z.payOrder(...e)),["prevent"]))},[(0,l._)("table",i,[c,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(O.order.products,(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t.id},[(0,l._)("td",null,(0,n.zw)(t.product.title),1),(0,l._)("td",null,(0,n.zw)(t.qty),1),(0,l._)("td",u," NT$ "+(0,n.zw)(e.$filters.currency(t.final_total))+" 元 ",1)])))),128))]),(0,l._)("tfoot",null,[(0,l._)("tr",null,[(0,l._)("td",h," 總計 :NT$ "+(0,n.zw)(e.$filters.currency(O.order.total))+" 元 ",1)])])]),(0,l._)("div",p,[_,(0,l._)("div",m,[(0,l._)("p",f,(0,n.zw)(O.order.id),1),(0,l._)("a",{href:"#",class:"btn btn-primary btn-sm",onClick:t[0]||(t[0]=(0,a.iM)((t=>e.copyCodeOld("orderId")),["prevent"]))}," 複製訂單編號 ")])]),(0,l._)("table",y,[(0,l._)("tbody",null,[(0,l._)("tr",null,[v,(0,l._)("td",null,(0,n.zw)(e.$filters.date(O.order.create_at)),1)]),(0,l._)("tr",null,[b,(0,l._)("td",null,(0,n.zw)(O.order.user.email),1)]),(0,l._)("tr",null,[w,(0,l._)("td",null,(0,n.zw)(O.order.user.name),1)]),(0,l._)("tr",null,[k,(0,l._)("td",null,(0,n.zw)(O.order.user.tel),1)]),(0,l._)("tr",null,[g,(0,l._)("td",null,(0,n.zw)(O.order.user.address),1)]),(0,l._)("tr",null,[x,(0,l._)("td",null,[O.order.is_paid?((0,l.wg)(),(0,l.iD)("span",C,"付款完成")):((0,l.wg)(),(0,l.iD)("span",$,"尚未付款"))])])])]),(0,l._)("div",M,[(0,l._)("button",{class:"btn btn-secondary btn-hover rounded-0 fw-bold",onClick:t[1]||(t[1]=(0,a.iM)(((...e)=>z.printWindow&&z.printWindow(...e)),["prevent"]))}," 列印此頁 "),(0,l._)("button",{class:"btn btn-primary btn-hover rounded-0 fw-bold",onClick:t[2]||(t[2]=(0,a.iM)((e=>z.showAlert()),["prevent"]))}," 確認付款 ")])],32)])]),(0,l.Wm)(I,{ref:"GameModal"},null,512)],64)}var O=s(9667),z=s(3521),Z=s(4301),I=s(4371),U={data(){return{order:{user:{}},orderId:"",isLoading:!1}},components:{UserCheckoutBar:O.Z,GameModal:z.Z},methods:{...(0,Z.nv)(I.Z,["copyCodeOld"]),showAlert(){this.order.total>3e4?this.$swal.fire({title:"感謝您的支持",text:"產品將會在3個工作天內寄出",icon:"success",allowOutsideClick:!1,confirmButtonText:"開始滿額小遊戲"}).then((e=>{this.$refs.GameModal.showModal()})):this.$swal.fire({title:"感謝您的支持",text:"產品將會在3個工作天內寄出",icon:"success",confirmButtonText:"回首頁"}).then((e=>{this.$router.push("/")}))},getOrder(){const e=`https://vue3-course-api.hexschool.io/api/kelvinlin9/order/${this.orderId}`;this.$http.get(e).then((e=>{e.data.success&&(this.order=e.data.order)})).catch((e=>console.error(e)))},payOrder(){const e=`https://vue3-course-api.hexschool.io/api/kelvinlin9/pay/${this.orderId}`;this.$http.post(e).then((e=>{console.log(e),e.data.success&&this.getOrder()})).catch((e=>console.error(e)))},printWindow(){window.print()}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},P=s(89);const R=(0,P.Z)(U,[["render",D]]);var W=R}}]);
//# sourceMappingURL=366.6f0f8033.js.map