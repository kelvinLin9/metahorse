"use strict";(self["webpackChunkhw1"]=self["webpackChunkhw1"]||[]).push([[652],{607:function(e,l,t){t.d(l,{Z:function(){return B}});var s=t(3396),o=t(7139);const r=e=>((0,s.dD)("data-v-96a6483c"),e=e(),(0,s.Cn)(),e),n={class:"container my-5 checkout-bar w-75"},a={class:"row fs-5 fs-md-3 fw-bold"},d={key:0,style:{color:"#f4696b"},class:"la-ball-climbing-dot la-dark"},i=r((()=>(0,s._)("div",null,null,-1))),c=r((()=>(0,s._)("div",null,null,-1))),u=r((()=>(0,s._)("div",null,null,-1))),h=r((()=>(0,s._)("div",null,null,-1))),_=[i,c,u,h],p=(0,s.Uk)(" 購物車 "),f={key:1,style:{color:"#f4696b"},class:"la-ball-climbing-dot la-dark"},m=r((()=>(0,s._)("div",null,null,-1))),w=r((()=>(0,s._)("div",null,null,-1))),v=r((()=>(0,s._)("div",null,null,-1))),b=r((()=>(0,s._)("div",null,null,-1))),y=[m,w,v,b],k=(0,s.Uk)(" 填寫"),g=r((()=>(0,s._)("br",{class:"d-block d-sm-none"},null,-1))),x=(0,s.Uk)("訂單 "),$={key:2,style:{color:"#f4696b"},class:"la-ball-climbing-dot la-dark"},C=r((()=>(0,s._)("div",null,null,-1))),D=r((()=>(0,s._)("div",null,null,-1))),M=r((()=>(0,s._)("div",null,null,-1))),z=r((()=>(0,s._)("div",null,null,-1))),U=[C,D,M,z],W=(0,s.Uk)(" 確認"),I=r((()=>(0,s._)("br",{class:"d-block d-sm-none"},null,-1))),O=(0,s.Uk)("付款 ");function P(e,l){const t=(0,s.up)("font-awesome-icon");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("div",a,["cart"===this.$route.name?((0,s.wg)(),(0,s.iD)("div",d,_)):(0,s.kq)("",!0),(0,s._)("div",{class:(0,o.C_)(["col d-flex flex-column px-2 py-3 align-items-center rounded-pill",{"bg-primary":"cart"===this.$route.name}])},[(0,s.Wm)(t,{icon:"fa-solid fa-1"}),p],2),"checkout"===this.$route.name?((0,s.wg)(),(0,s.iD)("div",f,y)):(0,s.kq)("",!0),(0,s._)("div",{class:(0,o.C_)(["col d-flex flex-column mx-2 py-3 align-items-center rounded-pill",{"bg-primary":"checkout"===this.$route.name}])},[(0,s.Wm)(t,{icon:"fa-solid fa-2"}),k,g,x],2),"checkoutPay"===this.$route.name?((0,s.wg)(),(0,s.iD)("div",$,U)):(0,s.kq)("",!0),(0,s._)("div",{class:(0,o.C_)(["col d-flex flex-column mx-2 py-3 align-items-center rounded-pill",{"bg-primary":"checkoutPay"===this.$route.name}])},[(0,s.Wm)(t,{icon:"fa-solid fa-3"}),W,I,O],2)])])}var H=t(89);const T={},Z=(0,H.Z)(T,[["render",P],["__scopeId","data-v-96a6483c"]]);var B=Z},7652:function(e,l,t){t.r(l),t.d(l,{default:function(){return S}});var s=t(3396),o=t(9242),r=t(7139);const n={class:"container"},a={class:"my-5 row justify-content-center"},d=(0,s._)("h1",{class:"fs-2 text-center fw-bold"},"購物明細",-1),i={class:"table align-middle"},c=(0,s._)("thead",{class:"table-primary"},[(0,s._)("th",null,"品名"),(0,s._)("th",null,"數量"),(0,s._)("th",{class:"text-end"},"小計")],-1),u={class:"text-end"},h={colspan:"3",class:"text-end fs-4"},_={class:"d-flex justify-content-center fw-bold fs-5 p-3 mt-5 mb-2 border border-primary"},p=(0,s.Uk)(" 訂單編號 : "),f=(0,s._)("br",{class:"d-block d-sm-none"},null,-1),m={class:"table"},w=(0,s._)("th",{width:"100",class:"fw-bold"},"訂購日期 :",-1),v=(0,s._)("th",{width:"100"},"Email",-1),b=(0,s._)("th",null,"姓名",-1),y=(0,s._)("th",null,"收件人電話",-1),k=(0,s._)("th",null,"收件人地址",-1),g=(0,s._)("th",null,"付款狀態",-1),x={key:0},$={key:1,class:"text-success"},C={class:"px-3 py-2 d-flex justify-content-between"};function D(e,l,t,D,M,z){const U=(0,s.up)("UserCheckoutBar"),W=(0,s.up)("GameModal");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(U),(0,s._)("div",n,[(0,s._)("div",a,[d,(0,s._)("form",{class:"col-10",onSubmit:l[2]||(l[2]=(0,o.iM)(((...e)=>z.payOrder&&z.payOrder(...e)),["prevent"]))},[(0,s._)("table",i,[c,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(M.order.products,(l=>((0,s.wg)(),(0,s.iD)("tr",{key:l.id},[(0,s._)("td",null,(0,r.zw)(l.product.title),1),(0,s._)("td",null,(0,r.zw)(l.qty),1),(0,s._)("td",u," NT$ "+(0,r.zw)(e.$filters.currency(l.final_total))+" 元 ",1)])))),128))]),(0,s._)("tfoot",null,[(0,s._)("tr",null,[(0,s._)("td",h," 總計 :NT$ "+(0,r.zw)(e.$filters.currency(M.order.total))+" 元 ",1)])])]),(0,s._)("div",_,[p,f,(0,s.Uk)(" "+(0,r.zw)(M.order.id),1)]),(0,s._)("table",m,[(0,s._)("tbody",null,[(0,s._)("tr",null,[w,(0,s._)("td",null,(0,r.zw)(e.$filters.date(M.order.create_at)),1)]),(0,s._)("tr",null,[v,(0,s._)("td",null,(0,r.zw)(M.order.user.email),1)]),(0,s._)("tr",null,[b,(0,s._)("td",null,(0,r.zw)(M.order.user.name),1)]),(0,s._)("tr",null,[y,(0,s._)("td",null,(0,r.zw)(M.order.user.tel),1)]),(0,s._)("tr",null,[k,(0,s._)("td",null,(0,r.zw)(M.order.user.address),1)]),(0,s._)("tr",null,[g,(0,s._)("td",null,[M.order.is_paid?((0,s.wg)(),(0,s.iD)("span",$,"付款完成")):((0,s.wg)(),(0,s.iD)("span",x,"尚未付款"))])])])]),(0,s._)("div",C,[(0,s._)("button",{class:"btn btn-secondary btn-hover rounded-0 fw-bold",onClick:l[0]||(l[0]=(0,o.iM)(((...e)=>z.printWindow&&z.printWindow(...e)),["prevent"]))}," 列印此頁 "),(0,s._)("button",{class:"btn btn-primary btn-hover rounded-0 fw-bold",onClick:l[1]||(l[1]=(0,o.iM)((l=>z.showAlert(e.$filters.currency(M.order.total))),["prevent"]))}," 確認付款 ")])],32)])]),(0,s.Wm)(W,{ref:"GameModal"},null,512)],64)}var M=t(607);const z=e=>((0,s.dD)("data-v-7549f03b"),e=e(),(0,s.Cn)(),e),U={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},W={class:"modal-dialog modal-dialog-centered test"},I={class:"modal-content test"},O=z((()=>(0,s._)("div",{class:"modal-header"},[(0,s._)("h5",{class:"modal-title",id:"exampleModalLabel"},"選賽馬開始遊戲")],-1))),P={class:"modal-body"},H={class:"container-fluid"},T=["onClick"],Z={class:"fs-6"},B={class:"fs-6"},R=z((()=>(0,s._)("span",{class:"start"},null,-1))),q=z((()=>(0,s._)("span",{class:"end"},null,-1)));function A(e,l,t,n,a,d){const i=(0,s.up)("font-awesome-icon");return(0,s.wg)(),(0,s.iD)("div",U,[(0,s._)("div",W,[(0,s._)("div",I,[O,(0,s._)("div",P,[(0,s._)("div",H,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.horses,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id,onClick:(0,o.iM)((l=>[d.selectedHorse(e),d.play()]),["prevent"]),class:(0,r.C_)(["horse d-flex",[e.color,e.speed,`top-${e.id}`,{"animation-start":a.isPlay},{test:a.horse.id===e.id}]])},[(0,s._)("div",Z,(0,r.zw)(e.id),1),(0,s._)("div",null,[(0,s.Wm)(i,{icon:"fa-solid fa-horse"})]),(0,s._)("div",B,(0,r.zw)(e.speed),1)],10,T)))),128)),R,q])])])])],512)}var G=t(1339),j={data(){return{modal:{},horses:[{color:"text-primary",speed:"linear",id:1},{color:"text-secondary",speed:"ease",id:2},{color:"text-success",speed:"ease-in",id:3},{color:"text-danger",speed:"ease-out",id:4},{color:"",speed:"super",id:5}],horse:{},rank:["super","ease","ease-out","linear","ease-in"],yourRank:0,isPlay:!1,horsesPosition:0,window:0}},mixins:[G.Z],watch:{horsesPosition(e,l){console.log(e,l)},window(e,l){console.log(e,l)}},methods:{shuffleArray(e){e.sort((()=>Math.random()-.5))},selectedHorse(e){this.horse={...e}},getRank(){console.log(this.horse.speed),this.$swal.fire({title:`恭喜獲得第${this.yourRank}名`,text:"獎品將會在和商品一併寄出",icon:"success",confirmButtonText:"回首頁"}).then((e=>{}))},play(){this.isPlay=!0,this.yourRank=this.rank.indexOf(this.horse.speed)+1,setTimeout(this.getRank,1e4)}},created(){const e=[...this.rank];this.shuffleArray(e),this.horses.forEach(((l,t)=>{l.speed=e[t]}))}},L=t(89);const Y=(0,L.Z)(j,[["render",A],["__scopeId","data-v-7549f03b"]]);var E=Y,K={data(){return{order:{user:{}},orderId:"",isLoading:!1}},components:{UserCheckoutBar:M.Z,GameModal:E},methods:{showAlert(e){console.log(e),e>1e4?this.$swal.fire({title:"感謝您的支持",text:"產品將會在3個工作天內寄出",icon:"success",confirmButtonText:"開始滿額小遊戲"}).then((e=>{this.$refs.GameModal.showModal()})):this.$swal.fire({title:"感謝您的支持",text:"產品將會在3個工作天內寄出",icon:"success",confirmButtonText:"回首頁"}).then((e=>{this.$router.push("/")}))},getOrder(){const e=`https://vue3-course-api.hexschool.io/api/kelvinlin9/order/${this.orderId}`;this.$http.get(e).then((e=>{e.data.success&&(this.order=e.data.order,console.log(this.order))})).catch((e=>console.error(e)))},payOrder(){const e=`https://vue3-course-api.hexschool.io/api/kelvinlin9/pay/${this.orderId}`;this.$http.post(e).then((e=>{console.log(e),e.data.success&&this.getOrder()})).catch((e=>console.error(e)))},printWindow(){window.print()},goHome(){this.$router.push("/")}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}};const N=(0,L.Z)(K,[["render",D]]);var S=N}}]);
//# sourceMappingURL=652.2a19292e.js.map