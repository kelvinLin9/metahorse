"use strict";(self["webpackChunkhw1"]=self["webpackChunkhw1"]||[]).push([[966],{7966:function(t,e,l){l.r(e),l.d(e,{default:function(){return O}});var r=l(3396),s=l(9242),o=l(7139);const n={class:"my-5 row justify-content-center"},d=(0,r._)("div",{class:"d-flex justify-content-center"},[(0,r._)("h1",{class:"fs-2 text-center fw-bold"},"購物明細")],-1),a={class:"table align-middle"},i=(0,r._)("thead",{class:"table-primary"},[(0,r._)("th",null,"品名"),(0,r._)("th",null,"數量"),(0,r._)("th",{class:"text-end"},"單價")],-1),c={class:"text-end"},u={colspan:"3",class:"text-end fs-4"},h={class:"table"},_=(0,r._)("th",{width:"100",class:"fw-bold"},"訂單編號 :",-1),w=(0,r._)("th",{width:"100",class:"fw-bold"},"訂購日期 :",-1),p=(0,r._)("th",{width:"100"},"Email",-1),f=(0,r._)("th",null,"姓名",-1),b=(0,r._)("th",null,"收件人電話",-1),g=(0,r._)("th",null,"收件人地址",-1),y=(0,r._)("th",null,"付款狀態",-1),m={key:0},v={key:1,class:"text-success"},$={class:"text-center"};function k(t,e,l,k,z,x){const I=(0,r.up)("Loading");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(I,{active:z.isLoading},null,8,["active"]),(0,r._)("div",n,[d,(0,r._)("form",{class:"col-md-4",onSubmit:e[1]||(e[1]=(0,s.iM)(((...t)=>x.payOrder&&x.payOrder(...t)),["prevent"]))},[(0,r._)("table",a,[i,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(z.order.products,(e=>((0,r.wg)(),(0,r.iD)("tr",{key:e.id},[(0,r._)("td",null,(0,o.zw)(e.product.title),1),(0,r._)("td",null,(0,o.zw)(e.qty),1),(0,r._)("td",c," NT$ "+(0,o.zw)(t.$filters.currency(e.final_total))+" 元 ",1)])))),128))]),(0,r._)("tfoot",null,[(0,r._)("tr",null,[(0,r._)("td",u," 總計 :NT$ "+(0,o.zw)(t.$filters.currency(z.order.total))+" 元 ",1)])])]),(0,r._)("table",h,[(0,r._)("tbody",null,[(0,r._)("tr",null,[_,(0,r._)("td",null,(0,o.zw)(z.order.id),1)]),(0,r._)("tr",null,[w,(0,r._)("td",null,(0,o.zw)(t.$filters.date(z.order.create_at)),1)]),(0,r._)("tr",null,[p,(0,r._)("td",null,(0,o.zw)(z.order.user.email),1)]),(0,r._)("tr",null,[f,(0,r._)("td",null,(0,o.zw)(z.order.user.name),1)]),(0,r._)("tr",null,[b,(0,r._)("td",null,(0,o.zw)(z.order.user.tel),1)]),(0,r._)("tr",null,[g,(0,r._)("td",null,(0,o.zw)(z.order.user.address),1)]),(0,r._)("tr",null,[y,(0,r._)("td",null,[z.order.is_paid?((0,r.wg)(),(0,r.iD)("span",v,"付款完成")):((0,r.wg)(),(0,r.iD)("span",m,"尚未付款"))])])])]),(0,r._)("div",$,[(0,r._)("button",{class:"btn btn-primary btn-hover rounded-0 fw-bold btn-lg",onClick:e[0]||(e[0]=(...t)=>x.showAlert&&x.showAlert(...t))}," 確認付款 ")])],32)])],64)}var z={data(){return{order:{user:{}},orderId:"",isLoading:!1}},methods:{showAlert(){this.$swal.fire("感謝您的支持","產品將會在3個工作天內寄出","success"),this.goHome()},getOrder(){const t=`https://vue3-course-api.hexschool.io/api/kelvinlin9/order/${this.orderId}`;this.$http.get(t).then((t=>{t.data.success&&(this.order=t.data.order,console.log(this.order))})).catch((t=>console.error(t)))},payOrder(){const t=`https://vue3-course-api.hexschool.io/api/kelvinlin9/pay/${this.orderId}`;this.$http.post(t).then((t=>{console.log(t),t.data.success&&this.getOrder()})).catch((t=>console.error(t)))},goHome(){this.$router.push("/")}},created(){this.orderId=this.$route.params.orderId,console.log(this.orderId),this.getOrder()}},x=l(89);const I=(0,x.Z)(z,[["render",k]]);var O=I}}]);
//# sourceMappingURL=966.53d2783e.js.map